<!DOCTYPE html>
<html>
<head>
    <title>CarlaMaths App - 1¬∫ESO (TDA Enhancements)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* =================================================================== */
        /* ESTILOS CSS INCLUIDOS DIRECTAMENTE */
        /* =================================================================== */
        body {
            font-family: 'Inter', Arial, sans-serif; 
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
            text-align: center;
            touch-action: pan-y;
        }
        .screen {
            display: none;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            min-height: 100vh;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 10px; 
            text-align: left;
        }
        .screen.active {
            display: block;
        }
        h2 {
            font-size: 1.8em;
            color: #4a7d4a; 
            margin-bottom: 20px;
            text-align: center;
        }
        #exerciseScreen { background-color: #e6ffe6; text-align: center; } 
        .question-box {
            background-color: #fff;
            border: 2px solid #5cb85c;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .options button, .main-button {
            display: block;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: none;
            border-radius: 8px;
            background-color: #a4e4a4; 
            color: #333; 
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
            font-weight: 600;
        }
        .main-button {
            background-color: #5cb85c; 
            color: white;
            box-shadow: 0 3px #3c8d3c;
        }
        .main-button:active {
            transform: translateY(2px);
            box-shadow: 0 1px #3c8d3c;
        }
        .options button:hover:not(:disabled) {
            background-color: #79d279; 
        }
        .options button.correct {
            background-color: #28a745; 
            color: white; 
            font-weight: bold;
        }
        .options button.wrong {
            background-color: #f17b7b; 
            color: #333; 
        }
        .options button:disabled {
            opacity: 0.7;
            cursor: default;
        }
        
        .gamification {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-bottom: 20px;
            padding: 10px;
            border-bottom: 2px solid #ccc;
        }
        .progress-bar-container {
            width: 50%;
            background-color: #eee;
            border-radius: 5px;
            overflow: hidden;
            margin: 0 10px;
            height: 20px;
        }
        #progress {
            height: 100%;
            width: 0%;
            background-color: #ffc107; 
            transition: width 0.5s;
        }
        .medal {
            font-size: 1.5em;
            opacity: 0.3;
        }
        .medal.active {
            opacity: 1;
        }
        .reward-banner {
            background-color: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            z-index: 10;
            position: relative;
        }
        .subject-select {
            display: block; 
            width: 100%; 
            padding: 10px 15px; 
            margin: 10px 0; 
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1em;
            box-sizing: border-box; 
        }
        .task-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 8px 0;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-left: 5px solid #007bff; 
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .task-item.completed {
            background-color: #e0f7e0;
            border-left: 5px solid #28a745;
            text-decoration: line-through;
            opacity: 0.8;
        }
        .task-actions button {
            background: none;
            border: none;
            cursor: pointer;
            margin-left: 10px;
            font-size: 1.2em;
        }
        .task-actions .delete-btn { color: #dc3545; }
        .task-actions .complete-btn { color: #28a745; }
        #scheduleContainer {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .schedule-slot {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: #fff0d6; 
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            border-left: 5px solid #ff9800;
        }
        .slot-time {
            font-weight: bold;
            color: #ff9800;
            width: 30%;
        }
        .slot-activity {
            flex-grow: 1;
            text-align: left;
        }
        /* Estilos para el modal de mensaje */
        #customMessageModal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            backdrop-filter: blur(2px);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; 
            padding: 20px;
            border: 1px solid #888;
            width: 80%; 
            max-width: 400px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            text-align: center;
        }
        .modal-content p { margin-bottom: 20px; }
        /* Estilos para el contenedor de juegos */
        .game-container {
            display: none; /* Ocultar por defecto */
            text-align: center;
            margin-top: 20px;
            border: 2px solid #333;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .game-container.active {
            display: block; /* Mostrar solo el activo */
        }
        .game-container iframe {
            width: 100%; 
            height: 400px; /* Tama√±o fijo para el placeholder */
            border: 0;
            border-radius: 5px;
            margin-top: 10px;
        }
        @media (max-width: 768px) {
            .screen {
                padding: 10px;
                box-shadow: none;
                border-radius: 0;
            }
            .gamification {
                flex-direction: column;
                gap: 5px;
            }
            .progress-bar-container {
                width: 100%;
                margin: 5px 0;
            }
            .task-item {
                flex-direction: column;
                align-items: flex-start;
                padding: 10px;
            }
            .task-details {
                margin-bottom: 5px;
            }
        }
    </style>
    <script>
        // La configuraci√≥n REAL de tu proyecto. ¬°DEBES REEMPLAZAR ESTO!
        window.__firebase_config = JSON.stringify({
            "apiKey": "AIzaSyA2_vhF-3qbOEBB20B4t4fvAn8iBSNd6aE", 
            "authDomain": "app-de-karla-b21a1.firebaseapp.com",
            "projectId": "app-de-karla-b21a1",
            "storageBucket": "app-de-karla-b21a1.firebasestorage.app",
            "messagingSenderId": "922949533120",
            "appId": "1:922949533120:web:22562633843a07d40e1c25",
            "measurementId": "G-VXRF7BXCBX"
        });
        
        // El ID de la aplicaci√≥n para las rutas de Firestore
        window.__app_id = 'app-de-karla-b21a1';
        
        // Token inicial (null para autenticaci√≥n an√≥nima)
        window.__initial_auth_token = null; 
    </script>
    
    <script type="module">
        // Importaciones de Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, onSnapshot, collection, query, orderBy, deleteDoc, updateDoc, addDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // --- CONFIGURACI√ìN DE FIREBASE ---
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {}; 
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        
        const app = initializeApp(firebaseConfig);
        window.db = getFirestore(app);
        window.auth = getAuth(app);
        window.isAuthReady = false;
        window.userId = null;

        // --- DEFINICI√ìN DE RUTAS (Collections) ---
        window.getStudyDataPath = () => doc(window.db, `artifacts/${appId}/users/${window.userId}/study_data`, 'current_stats');
        window.getTasksCollection = () => collection(window.db, `artifacts/${appId}/users/${window.userId}/tasks`);
        window.getRoutineDataPath = () => doc(window.db, `artifacts/${appId}/users/${window.userId}/routine_data`, 'daily_schedule');

        // --- FUNCIONES DE PERSISTENCIA (Mantenidas dentro del m√≥dulo para acceder a las importaciones) ---

        // Funci√≥n de utilidad para mostrar mensajes (Necesaria aqu√≠ para usarla en las funciones de persistencia)
        function showCustomMessage(message, type = 'error') {
            const modal = document.getElementById('customMessageModal');
            const messageText = document.getElementById('customMessageText');
            
            // Verificaci√≥n para evitar errores de carga del DOM
            if (!modal || !messageText) {
                console.error("Modal de mensaje no encontrado. Mensaje no mostrado:", message);
                return;
            }

            const colorMap = {
                error: '#dc3545',
                info: '#007bff',
                success: '#28a745',
                warning: '#ffc107'
            };
            messageText.innerText = message;
            modal.querySelector('.modal-content').style.border = `2px solid ${colorMap[type] || colorMap.error}`;
            modal.style.display = 'block';
        }
        
        async function loadStudyData() {
            if (!window.isAuthReady || !window.userId) return;
            try {
                const docRef = window.getStudyDataPath();
                const docSnap = await getDoc(docRef); 

                if (docSnap.exists()) {
                    const data = docSnap.data();
                    window.points = data.points || 0; 
                    window.level = data.level || 1; 
                    updatePoints();
                    updateLevel(); 
                    updateMedals(); 
                }
            } catch (e) {
                console.error("Error al cargar datos de estudio:", e);
            } finally {
                const userIdEl = document.getElementById('sessionUserId');
                if(userIdEl) userIdEl.innerText = window.userId || 'No disponible';
                const loadingTasksEl = document.getElementById('loadingTasks');
                if(loadingTasksEl) loadingTasksEl.innerText = 'A√±ade tus tareas para empezar.';
            }
        }
        
        async function saveStudyData() {
            if (!window.isAuthReady || !window.userId) return;
            try {
                const docRef = window.getStudyDataPath();
                await setDoc(docRef, { 
                    points: window.points, 
                    level: window.level, 
                    last_update: new Date().toISOString() 
                }, { merge: true });
            } catch (e) {
                console.error("Error al guardar datos de estudio:", e);
            }
        }

        async function loadTasks() {
            if (!window.isAuthReady || !window.userId) return;
            const tasksCol = window.getTasksCollection();
            const q = query(tasksCol, orderBy("completed", "asc"), orderBy("deadline", "asc")); 
            onSnapshot(q, (snapshot) => {
                window.currentTasks = []; 
                snapshot.forEach(doc => {
                    const data = doc.data();
                    window.currentTasks.push({ 
                        id: doc.id,
                        text: data.text,
                        deadline: data.deadline,
                        completed: data.completed
                    });
                });
                renderTasks();
            }, (error) => {
                console.error("Error al escuchar las tareas:", error);
                document.getElementById('loadingTasks').innerText = 'Error al cargar tareas.';
            });
        }

        async function addTask() {
            if (!window.isAuthReady || !window.userId) {
                showCustomMessage('Espera a que la sesi√≥n est√© lista para a√±adir tareas.', 'info');
                return;
            }
            const text = document.getElementById('newTaskText').value.trim();
            const deadline = document.getElementById('newTaskDeadline').value; 
            if (!text) {
                showCustomMessage('El texto de la tarea no puede estar vac√≠o.', 'error');
                return;
            }
            try {
                const tasksCol = window.getTasksCollection();
                await addDoc(tasksCol, { 
                    text: text,
                    deadline: deadline, 
                    completed: false,
                    createdAt: new Date().toISOString() 
                });
                document.getElementById('newTaskText').value = '';
                document.getElementById('newTaskDeadline').value = '';
                showCustomMessage('Tarea a√±adida con √©xito.', 'success');
            } catch (e) {
                console.error("Error al a√±adir tarea:", e);
                showCustomMessage('Error al a√±adir tarea.', 'error');
            }
        }

        async function toggleTaskCompletion(taskId, completedStatus) {
            if (!window.isAuthReady || !window.userId) return;
            try {
                const taskRef = doc(window.getTasksCollection(), taskId);
                await updateDoc(taskRef, { completed: completedStatus }); 
            } catch (e) {
                console.error("Error al actualizar tarea:", e);
                showCustomMessage('Error al actualizar tarea.', 'error');
            }
        }

        async function deleteTask(taskId) {
            if (!window.isAuthReady || !window.userId) return;
            try {
                const taskRef = doc(window.getTasksCollection(), taskId);
                await deleteDoc(taskRef); 
            } catch (e) {
                console.error("Error al eliminar tarea:", e);
                showCustomMessage('Error al eliminar tarea.', 'error');
            }
        }

        async function loadRoutineFromDB() {
            if (!window.isAuthReady || !window.userId) return;
            try {
                const docRef = window.getRoutineDataPath();
                const docSnap = await getDoc(docRef); 

                if (docSnap.exists()) {
                    window.currentRoutine = docSnap.data().schedule || []; 
                } else {
                    window.currentRoutine = []; 
                }
                renderRoutine();
            } catch (e) {
                console.error("Error al cargar rutina:", e);
                document.getElementById('loadingRoutine').innerText = 'Error al cargar rutina.';
            }
        }
        
        async function saveRoutine() {
            if (!window.isAuthReady || !window.userId) {
                showCustomMessage('Cargando sesi√≥n... Espera un momento antes de guardar.', 'info');
                await new Promise(resolve => setTimeout(resolve, 1500)); 
                if (!window.isAuthReady || !window.userId) {
                     showCustomMessage('Sesi√≥n no lista. No se puede guardar. (Revisa tu conexi√≥n o la Autenticaci√≥n An√≥nima en Firebase).', 'error');
                     return;
                }
            }
            try {
                const docRef = window.getRoutineDataPath();
                await setDoc(docRef, { schedule: window.currentRoutine }); 
                showCustomMessage('Rutina diaria guardada con √©xito.', 'success');
            } catch (e) {
                console.error("Error al guardar rutina:", e);
                if (e.code === 'permission-denied') {
                    showCustomMessage('Error de permiso: Revisa las Reglas de Seguridad de Firestore. Necesitan permitir escribir a usuarios autenticados.', 'error');
                } else {
                    showCustomMessage('Error al guardar rutina.', 'error');
                }
            }
        }

        // --- FUNCI√ìN PRINCIPAL DE AUTENTICACI√ìN ---
        async function initializeAuthAndFirestore() {
            try {
                if (initialAuthToken) {
                    await signInWithCustomToken(window.auth, initialAuthToken);
                } else {
                    await signInAnonymously(window.auth);
                }
                
                onAuthStateChanged(window.auth, (user) => {
                    if (user) {
                        window.userId = user.uid;
                        window.isAuthReady = true;

                        // Llamadas de carga
                        if (typeof loadStudyData === 'function') loadStudyData(); 
                        if (typeof loadTasks === 'function') loadTasks(); 
                        if (typeof loadRoutineFromDB === 'function') loadRoutineFromDB(); 
                        
                        if (typeof hideAllScreens === 'function') hideAllScreens();
                        const subjectScreen = document.getElementById('subjectScreen');
                        if (subjectScreen) subjectScreen.classList.add('active'); 
                        
                    } else {
                        window.userId = null;
                        window.isAuthReady = true; 
                        showCustomMessage('Sesi√≥n no iniciada. Usando modo an√≥nimo. Tu progreso no se guardar√°.', 'info');
                        const userIdEl = document.getElementById('sessionUserId');
                        if(userIdEl) userIdEl.innerText = 'AN√ìNIMO';
                        
                        if (typeof hideAllScreens === 'function') hideAllScreens();
                        const loginScreen = document.getElementById('loginScreen');
                        if (loginScreen) loginScreen.classList.add('active'); 
                    }
                });
            } catch (error) {
                console.error("Error CR√çTICO en la autenticaci√≥n:", error);
                showCustomMessage('Error al iniciar sesi√≥n. ¬°Verifica la API Key y la Autenticaci√≥n An√≥nima!', 'error');
                
                if (typeof hideAllScreens === 'function') hideAllScreens();
                const subjectScreen = document.getElementById('subjectScreen');
                if (subjectScreen) subjectScreen.classList.add('active');
            }
        }

        // Hacemos las funciones necesarias accesibles globalmente (solo las que se llaman desde el HTML)
        window.showCustomMessage = showCustomMessage;
        window.deleteTask = deleteTask;
        window.toggleTaskCompletion = toggleTaskCompletion;
        window.loadRoutineFromDB = loadRoutineFromDB;
        window.addTask = addTask;
        window.saveRoutine = saveRoutine;
        window.saveStudyData = saveStudyData;

        
        // Inicializar la autenticaci√≥n
        initializeAuthAndFirestore(); 
        
        // Listener de DOMContentLoaded se mantiene
        document.addEventListener('DOMContentLoaded', () => {
             const subjectChoose = document.getElementById('subjectChoose');
             if(subjectChoose) subjectChoose.addEventListener('change', populateEvaluations);
             const evaluationChoose = document.getElementById('evaluationChoose');
             if(evaluationChoose) evaluationChoose.addEventListener('change', populateTopics);
        });

    </script>
</head>
<body>

    <div id="loginScreen" class="screen">
        <h2>Bienvenido, Alex üëã</h2>
        <p>¬°Vamos a repasar 1¬∫ESO jugando!</p>
        <input type="text" id="studentNameLogin" placeholder="Tu Nombre" style="padding: 10px; margin: 10px 0; width: 80%; border-radius: 5px; border: 1px solid #ccc;">
        <input type="number" id="studentAgeLogin" placeholder="Tu Edad" style="padding: 10px; margin: 10px 0; width: 80%; border-radius: 5px; border: 1px solid #ccc;">
        <button onclick="hideAllScreens(); document.getElementById('subjectScreen').classList.add('active');" class="main-button">Entrar a la App</button> 
        <p class="text-xs text-gray-500 mt-4 text-center">ID de Sesi√≥n: <span id="sessionUserId">Cargando...</span></p>
        <p class="text-xs text-gray-500 mt-2 text-center">Guarda este ID para compartir tu progreso.</p>
    </div>
    
    <div id="subjectScreen" class="screen active"> 
        <h2>Men√∫ de Estudio</h2>
        <div class="mb-4">
            <button onclick="showScreen('exerciseScreen'); loadQuestion()" class="main-button" style="background-color: #5cb85c;">üöÄ Empezar a Estudiar</button>
            <button onclick="showScreen('taskManagerScreen')" class="main-button" style="background-color: #007bff; box-shadow: 0 3px #0056b3;">‚úÖ Mi Gestor de Tareas (Todoist)</button>
            <button onclick="showScreen('visualPlannerScreen'); loadRoutineFromDB();" class="main-button" style="background-color: #ff9800; box-shadow: 0 3px #e68a00;">üìÖ Mi Rutina Diaria (Tiimo)</button>
            <button onclick="showScreen('reviewScreen')" class="main-button" style="background-color: #6c757d; box-shadow: 0 3px #545b62;">üìà Revisar Progreso</button>
            <button onclick="showResetConfirmation()" class="main-button" style="background-color: #dc3545; margin-top: 15px;">üö® Resetear Nivel y Puntos</button>

        </div>

        <h3>Selecciona tu Tema</h3>
        <select id="subjectChoose" class="subject-select">
            <option value="" disabled selected>-- Elige Asignatura --</option>
            <option value="Matem√°ticas">Matem√°ticas</option>
            <option value="Lengua">Lengua</option>
            <option value="Sociales">Sociales</option>
        </select>

        <select id="evaluationChoose" class="subject-select">
            <option value="">--Selecciona Evaluaci√≥n--</option>
        </select>

        <select id="topicChoose" class="subject-select">
            <option value="">--Selecciona Tema--</option>
        </option>
        </select>

        <button onclick="startExercises()" class="main-button" style="background-color: #28a745;">Cargar Ejercicios</button>
    </div>

    <div id="exerciseScreen" class="screen">
        <div class="gamification">
            <span id="levelDisplay">Nivel: 1</span>
            <div class="progress-bar-container"><div id="progress"></div></div>
            <span id="pointsDisplay">Puntos: 0</span>
            <div id="medals"></div>
        </div>
        
        <p>Est√°s estudiando: <strong id="subjectTopic"></strong></p>
        <p>Pregunta <span id="questionNumber">1</span> de <span id="totalQuestions">20</span></p>

        <div class="question-box">
            <p id="questionText">Cargando pregunta...</p>
        </div>
        
        <div class="options" onclick="handleOptionClick(event)">
            <button data-option-index="0"></button>
            <button data-option-index="1"></button>
            <button data-option-index="2"></button>
            <button data-option-index="3"></button>
        </div>

        <button onclick="nextQuestion()" class="main-button">Siguiente Pregunta</button>
        <button onclick="goToReview()" class="main-button" style="background-color: #6c757d;">Terminar Sesi√≥n (Revisar)</button>
    </div>

    <div id="taskManagerScreen" class="screen">
        <h2 style="text-align: left;">‚úÖ Mis Asignaciones (Todoist-like)</h2>
        <div class="mb-6 p-4 bg-gray-100 rounded-lg">
            <input type="text" id="newTaskText" placeholder="Nueva tarea o asignaci√≥n (Ej: 'Hacer el resumen de Historia')" class="subject-select">
            
            <div class="flex items-center subject-select p-0" style="border: 1px solid #ccc; background-color: white;">
                <span class="text-gray-500 text-base mr-3" style="padding: 10px 15px;">üìÖ Fecha L√≠mite:</span>
                <input type="date" id="newTaskDeadline" class="flex-grow" placeholder="Seleccionar fecha" style="padding: 10px; border: none; border-radius: 0 5px 5px 0; width: 100%; box-sizing: border-box;">
            </div>
            <button onclick="addTask()" class="main-button" style="background-color: #007bff; padding: 10px;">A√±adir Tarea</button>
        </div>

        <div id="taskList" class="flex flex-col gap-2">
            <p class="text-center text-gray-500" id="loadingTasks">Cargando tareas...</p>
        </div>

        <button onclick="showScreen('subjectScreen')" class="main-button mt-6" style="background-color: #333;">Volver al Men√∫</button>
    </div>
    
    <div id="visualPlannerScreen" class="screen">
        <h2 style="text-align: left;">üìÖ Mi Rutina Diaria (Tiimo-like)</h2>

        <div class="mb-6 p-4 bg-gray-100 rounded-lg">
            <p class="text-sm text-gray-600 mb-2">Define tu d√≠a: qu√© hacer y cu√°nto tiempo.</p>
            <input type="time" id="routineStartTime" value="09:00" class="subject-select inline-block w-1/2 pr-1" style="width: 49%; padding-right: 0;">
            <input type="text" id="routineActivity" placeholder="Actividad (Ej: 'Estudio de Matem√°ticas')" class="subject-select">
            <select id="routineDuration" class="subject-select">
                <option value="15">15 minutos</option>
                <option value="30">30 minutos</option>
                <option value="45">45 minutos</option>
                <option value="60" selected>1 hora (60 minutos)</option>
                <option value="90">1 hora y media</option>
            </select>
            <button onclick="addRoutineSlot()" class="main-button" style="background-color: #ff9800; padding: 10px;">A√±adir Bloque</button>
            <button onclick="saveRoutine()" class="main-button" style="background-color: #ff6f00; padding: 10px;">Guardar Rutina</button>
        </div>

        <h3>Tu Horario Visual</h3>
        <div id="scheduleContainer">
            <p class="text-center text-gray-500" id="loadingRoutine">A√±ade bloques de actividad.</p>
        </div>

        <button onclick="showScreen('subjectScreen')" class="main-button mt-6" style="background-color: #333;">Volver al Men√∫</button>
    </div>


    <div id="reviewScreen" class="screen">
        <h2 style="text-align: center;">üìà Resumen de la Sesi√≥n</h2>
        <div class="p-4 bg-yellow-100 rounded-lg mb-6 text-center">
            <p class="text-lg font-bold text-yellow-800">Puntos Totales: <span id="finalPoints" class="text-2xl">0</span></p>
            <p class="text-lg font-bold text-yellow-800">Nivel Alcanzado: <span id="finalLevel" class="text-2xl">1</span></p>
        </div>
        
        <h3>Ejercicios Acertados:</h3>
        <div id="reviewQuestions" class="mt-4 p-4 border rounded-lg bg-gray-50">
        </div>

        <button onclick="goToSubjectFromExercise()" class="main-button mt-6" style="background-color: #5cb85c;">Volver al Men√∫</button>
    </div>

    <div id="gameScreen" class="screen">
        <div id="rewardMessage" class="reward-banner" style="display: none;">
            <h2>¬°FELICIDADES, Alex! ¬°PREMIO! üéâ</h2>
            <p>Has subido al Nivel <span id="rewardLevel"></span>. T√≥mate un descanso y ¬°a jugar!</p>
        </div>

        <div id="arkanoidGameContainer" class="game-container"> 
            <h2>ArKanoid T√°ctil</h2> 
            <iframe id="iframe_arkanoid" src="" frameborder="0" scrolling="no" allowfullscreen></iframe> 
        </div> 
        <div id="memoriaGameContainer" class="game-container"> 
            <h2>Juego de Pares</h2> 
            <iframe id="iframe_memoria" src="" frameborder="0" scrolling="no" allowfullscreen></iframe> 
        </div>
        <div id="matamarcianosGameContainer" class="game-container"> 
            <h2>Matamarcianos</h2> 
            <iframe id="iframe_matamarcianos" src="" frameborder="0" scrolling="no" allowfullscreen></iframe> 
        </div>
        <div id="asteroidesGameContainer" class="game-container"> 
            <h2>Juego de Asteroides</h2> 
            <iframe id="iframe_asteroides" src="" frameborder="0" scrolling="no" allowfullscreen></iframe> 
        </div>
        <div id="donkeykongGameContainer" class="game-container"> 
            <h2>Donkeykong</h2> 
            <iframe id="iframe_donkeykong" src="" frameborder="0" scrolling="no" allowfullscreen></iframe> 
        </div>
        <div id="froggerGameContainer" class="game-container"> 
            <h2>Juego de la Rana</h2> 
            <iframe id="iframe_frogger" src="" frameborder="0" scrolling="no" allowfullscreen></iframe> 
        </div>
        <div id="pongGameContainer" class="game-container"> 
            <h2>Tenis (Pong)</h2> 
            <iframe id="iframe_pong" src="" frameborder="0" scrolling="no" allowfullscreen></iframe> 
        </div>
        <div id="tictactoeGameContainer" class="game-container"> 
            <h2>Tres en Raya</h2> 
            <iframe id="iframe_tictactoe" src="" frameborder="0" scrolling="no" allowfullscreen></iframe> 
        </div>
        <div id="tetrisGameContainer" class="game-container"> 
            <h2>Tetris Lite</h2> 
            <iframe id="iframe_tetris" src="" frameborder="0" scrolling="no" allowfullscreen></iframe> 
        </div>
        <div id="pacmanGameContainer" class="game-container"> 
            <h2>Pacman</h2> 
            <iframe id="iframe_pacman" src="" frameborder="0" scrolling="no" allowfullscreen></iframe> 
        </div>
        
        <div style="margin-top: 20px;">
            <button onclick="endGame()" class="main-button" style="background-color: #dc3545;">Volver a los Ejercicios</button>
        </div>
    </div>
    
    <div id="customMessageModal">
        <div class="modal-content">
            <p id="customMessageText"></p>
            <button onclick="hideCustomMessage()" class="main-button" style="background-color: #5cb85c; width: auto; padding: 8px 20px;">Entendido</button>
        </div>
    </div>


    <script>
        // ===================================================================
        // 3. FUNCIONES GLOBALES Y ESTRUCTURA CURRICULAR (RESTO DEL C√ìDIGO JS)
        // ===================================================================
        
        // --- Variables Globales ---
        window.currentExercises = [];
        window.currentQ = 0;
        window.points = window.points || 0; 
        window.level = window.level || 1; 
        window.completedExercises = []; 
        window.answeredCurrentQuestion = false;
        window.currentRoutine = [];
        window.currentTasks = [];
        window.animationFrameId = null; 

        // --- Estructura Curricular (Mismo contenido) ---
        const curriculum = {
              "Matem√°ticas": {
                "1¬∫ESO": {
                    "1¬™ evaluaci√≥n": {
                          "N√∫meros y Operaciones": [
                            { q: "¬øC√≥mo se lee 1.345.000?", options: ["Un mill√≥n trescientos cuarenta y cinco mil", "Trece millones", "Ciento treinta y cuatro mil", "Un bill√≥n"], correct: 0 },
                            { q: "Valor posicional del 7 en 1.705:", options: ["Unidades", "Decenas", "Centenas", "Unidades de Millar"], correct: 2 },
                            { q: "¬øCu√°l es el resultado de 100 - 45?", options: ["65", "55", "45", "145"], correct: 1 },
                            { q: "¬øCu√°l es el resultado de 12 √ó 5?", options: ["60", "50", "17", "70"], correct: 0 },
                            { q: "¬øCu√°l es el resultado de 81 / 9?", options: ["7", "8", "9", "10"], correct: 2 },
                            { q: "El valor posicional del 2 en 2.050.000 es...", options: ["Unidad de Millar", "Centena de Millar", "Unidad de mill√≥n", "Decena de Millar"], correct: 2 },
                            { q: "¬øCu√°nto es 35 + 15 + 10?", options: ["50", "60", "70", "40"], correct: 1 },
                            { q: "¬øCu√°nto es 10 √ó 10 √ó 10?", options: ["100", "30", "1.000", "100.000"], correct: 2 },
                            { q: "¬øCu√°nto es 48 / 6?", options: ["7", "8", "6", "9"], correct: 1 },
                            { q: "El n√∫mero 9 es divisible por...", options: ["2", "4", "3", "5"], correct: 2 },
                            { q: "El n√∫mero 12 es m√∫ltiplo de...", options: ["5", "7", "4", "9"], correct: 2 },
                            { q: "Un n√∫mero primo es aquel que tiene solo dos divisores:", options: ["√âl mismo y el 1", "El 2 y el 3", "Cualquier par de n√∫meros", "N√∫meros impares"], correct: 0 },
                            { q: "¬øCu√°l de estos es un n√∫mero primo?", options: ["4", "9", "10", "7"], correct: 3 },
                            { q: "¬øCu√°l de estos es un n√∫mero compuesto?", options: ["3", "5", "8", "11"], correct: 2 },
                            { q: "M√∫ltiplos de 5, el siguiente a 20 es:", options: ["21", "25", "30", "15"], correct: 1 },
                            { q: "Divisores de 10:", options: ["1, 2, 5, 10", "1, 5, 10", "1, 2, 4, 5", "5, 10"], correct: 0 },
                            { q: "M.C.D de 4 y 6:", options: ["24", "12", "2", "4"], correct: 2 },
                            { q: "m.c.m de 2 y 3:", options: ["1", "6", "3", "2"], correct: 1 },
                            { q: "¬øCu√°nto es 5¬≤?", options: ["10", "7", "25", "52"], correct: 2 },
                            { q: "Ra√≠z cuadrada de 9:", options: ["2", "3", "4", "81"], correct: 1 },
                            { q: "La suma de los n√∫meros 125 y 75 es:", options: ["100", "200", "50", "25"], correct: 1 },
                            { q: "La diferencia entre 50 y 15 es:", options: ["65", "45", "35", "50"], correct: 2 },
                            { q: "El producto de 9 y 8 es:", options: ["17", "72", "64", "81"], correct: 1 },
                            { q: "El cociente de 40 entre 5 es:", options: ["6", "7", "8", "9"], correct: 2 },
                            { q: "¬øCu√°l es el valor posicional de la primera cifra de la izquierda en 5.678?", options: ["Centenas", "Decenas de Millar", "Unidades de Millar", "Decenas"], correct: 2 },
                            { q: "Para que un n√∫mero sea divisible por 10 debe terminar en:", options: ["5", "N√∫mero par", "0", "Cualquier n√∫mero"], correct: 2 },
                            { q: "Un n√∫mero es m√∫ltiplo de 2 si es:", options: ["Impar", "Par", "Termina en 5", "Primo"], correct: 1 },
                            { q: "El n√∫mero 15 es divisible por:", options: ["2", "4", "5", "6"], correct: 2 },
                            { q: "Ra√≠z cuadrada de 49:", options: ["6", "7", "8", "9"], correct: 1 },
                            { q: "¬øCu√°nto es 3¬≥?", options: ["9", "27", "6", "81"], correct: 1 },
                            { q: "m.c.m de 4 y 5:", options: ["9", "10", "20", "40"], correct: 2 },
                            { q: "M.C.D de 10 y 15:", options: ["5", "15", "10", "30"], correct: 0 },
                            { q: "El n√∫mero 2 es:", options: ["Compuesto", "Impar", "El √∫nico primo par", "M√∫ltiplo de 4"], correct: 2 },
                            { q: "El n√∫mero 1 es:", options: ["Primo", "Compuesto", "Neutro", "Un divisor universal"], correct: 3 },
                            { q: "Divisores de 7:", options: ["1, 7", "1, 2, 7", "7, 14", "1, 3, 7"], correct: 0 },
                            { q: "¬øCu√°nto es 20 + 5 √ó 2 (Operaciones combinadas)?", options: ["50", "22", "30", "25"], correct: 2 },
                            { q: "¬øCu√°nto es (10 - 2) √ó 3?", options: ["8", "24", "16", "26"], correct: 1 },
                            { q: "Ra√≠z cuadrada de 100:", options: ["100", "50", "10", "25"], correct: 2 },
                            { q: "El resultado de 15 / 3 + 4 es:", options: ["7", "9", "5", "8"], correct: 1 },
                            { q: "¬øCu√°l es el valor de 10‚Å¥?", options: ["100", "10.000", "1.000", "40"], correct: 1 },                        

                            { q: "Resultado de 15 + 8 * 2 - 5:", options: ["36", "26", "20", "41"], correct: 1 },
                            { q: "Resultado de (10 - 4) * 3 + 2:", options: ["20", "22", "18", "32"], correct: 1 },
                            { q: "Resultado de -10 + 5:", options: ["-5", "5", "-15", "15"], correct: 0 },
                            { q: "Resultado de -3 * -4:", options: ["-12", "7", "12", "-7"], correct: 2 },
                            { q: "Si la temperatura es de 5 grados C y baja 8 grados C, ¬øqu√© temperatura har√°?", options: ["-3¬∞C", "3¬∞C", "-13¬∞C", "13¬∞C"], correct: 0 },
                            { q: "Resultado de 25 / 5 + 3 * 2:", options: ["16", "11", "20", "13"], correct: 1 },
                            { q: "El n√∫mero opuesto de -15 es:", options: ["-15", "0", "15", "-5"], correct: 2 },
                            { q: "Resultado de (-2) * (5 - 8):", options: ["-6", "6", "10", "-10"], correct: 1 },
                            { q: "Resultado de 10 - (-3) + 2:", options: ["5", "11", "15", "13",], correct: 3 },
                            { q: "Resultado de 4 + 4 * 4 / 4:", options: ["8", "16", "4", "2"], correct: 0 },
                            { q: "Resultado de (12 / 6) + (3 * 3):", options: ["10", "11", "12", "9"], correct: 1 },
                            { q: "Resultado de -9 - 5:", options: ["4", "-4", "-14", "14"], correct: 2 },
                            { q: "El valor absoluto de -20 es:", options: ["-20", "0", "10", "20"], correct: 3 },
                            { q: "Resultado de 100 / 2 - 10:", options: ["40", "45", "90", "50"], correct: 0 },
                            { q: "Resultado de (2 + 3) * (5 - 1):", options: ["9", "20", "10", "15"], correct: 1 },
                            { q: "Resultado de (-1) elevado a 4:", options: ["1", "-1", "4", "-4"], correct: 0 },
                            { q: "Resultado de -20 / 4:", options: ["5", "-5", "4", "-4"], correct: 1 },
                            { q: "N√∫mero anterior a -8:", options: ["-9", "-7", "8", "9"], correct: 0 },
                            { q: "Resultado de 7 * 3 + 2 - 1:", options: ["23", "22", "24", "20"], correct: 1 },
                            { q: "Resultado de 15 - 5 * (4 - 2):", options: ["20", "10", "5", "0"], correct: 2 },                     
                            { q: "Resultado de 2 elevado a 4:", options: ["8", "16", "4", "6"], correct: 1 },
                            { q: "Resultado de la Ra√≠z cuadrada de 49:", options: ["6", "7", "8", "5"], correct: 1 },
                            { q: "Resultado de 10 elevado a 3:", options: ["100", "10", "1000", "30"], correct: 2 },
                            { q: "Resultado de 5 elevado a 2:", options: ["10", "25", "50", "7"], correct: 1 },
                            { q: "La expresi√≥n 3 * 3 * 3 * 3 es igual a:", options: ["3 elevado a 4", "4 elevado a 3", "12", "81"], correct: 0 },
                            { q: "Resultado de la Ra√≠z cuadrada de 81:", options: ["8", "9", "10", "7"], correct: 1 },
                            { q: "Resultado de (5 elevado a 2) + 1:", options: ["26", "11", "51", "35"], correct: 0 },
                            { q: "Resultado de (2 elevado a 3) - 3:", options: ["5", "3", "1", "6"], correct: 0 },
                            { q: "El resultado de (10 elevado a 3) dividido por 100:", options: ["1000", "10", "100", "1"], correct: 1 },
                            { q: "Resultado de (2 elevado a 2) * (3 elevado a 2):", options: ["13", "36", "18", "6"], correct: 1 },
                            { q: "Resultado de 7 elevado a 1:", options: ["7", "1", "49", "0"], correct: 0 },
                            { q: "Resultado de 6 elevado a 0:", options: ["6", "1", "0", "36"], correct: 1 },
                            { q: "La Ra√≠z cuadrada de qu√© n√∫mero es 11:", options: ["22", "111", "121", "100"], correct: 2 },
                            { q: "Resultado de 10 elevado a 5:", options: ["10000", "100000", "50", "1000000"], correct: 1 },
                            { q: "Resultado de 3 elevado a 3:", options: ["9", "6", "27", "18"], correct: 2 },
                            { q: "El n√∫mero 64 es el resultado de la Ra√≠z cuadrada de:", options: ["4096", "128", "8", "32"], correct: 0 },
                            { q: "Resultado de (1 elevado a 99) + 1:", options: ["99", "100", "2", "1"], correct: 2 },
                            { q: "Resultado de 4 elevado a 3:", options: ["12", "7", "16", "64"], correct: 3 },
                            { q: "Resultado de 100 + (Ra√≠z cuadrada de 25):", options: ["105", "125", "50", "15"], correct: 0 },
                            { q: "Resultado de (2 elevado a 3) * 2:", options: ["8", "10", "16", "6"], correct: 2 },                        
                            { q: "¬øCu√°l es un m√∫ltiplo de 6?", options: ["2", "15", "18", "25"], correct: 2 },
                            { q: "¬øCu√°l es un divisor de 42?", options: ["8", "7", "5", "10"], correct: 1 },
                            { q: "M√≠nimo Com√∫n M√∫ltiplo (m.c.m) de 4 y 6:", options: ["24", "12", "6", "18"], correct: 1 },
                            { q: "M√°ximo Com√∫n Divisor (M.C.D) de 10 y 15:", options: ["30", "5", "1", "150"], correct: 1 },
                            { q: "¬øCu√°l de estos n√∫meros es primo?", options: ["9", "21", "13", "10"], correct: 2 },
                            { q: "Un n√∫mero es divisible por 3 si la suma de sus cifras es divisible por:", options: ["6", "9", "3", "2"], correct: 2 },
                            { q: "M√∫ltiplo de 5, pero no de 10:", options: ["20", "15", "30", "50"], correct: 1 },
                            { q: "M√°ximo Com√∫n Divisor (M.C.D) de 8 y 12:", options: ["4", "2", "8", "12"], correct: 0 },
                            { q: "M√≠nimo Com√∫n M√∫ltiplo (m.c.m) de 2 y 7:", options: ["9", "14", "2", "7"], correct: 1 },
                            { q: "¬øCu√°l de estos n√∫meros es compuesto?", options: ["17", "11", "29", "14"], correct: 3 },
                            { q: "Divisores del n√∫mero 18:", options: ["1, 2, 3, 6, 9, 18", "2, 3, 6, 9", "1, 18", "1, 2, 3, 4, 6, 9, 18"], correct: 0 },
                            { q: "¬øCu√°l de estos n√∫meros es divisible por 2 y por 5?", options: ["15", "12", "25", "30"], correct: 3 },
                            { q: "M√∫ltiplos de 4 entre 10 y 20:", options: ["12, 16", "14, 18", "10, 20", "12, 16, 20"], correct: 0 },
                            { q: "M.C.D. de 7 y 11:", options: ["7", "11", "77", "1"], correct: 3 },
                            { q: "m.c.m. de 3 y 5:", options: ["8", "15", "3", "5"], correct: 1 },
                            { q: "El n√∫mero 0 es m√∫ltiplo de:", options: ["Solo de s√≠ mismo", "Todos los n√∫meros", "Solo de 1", "Solo de n√∫meros pares"], correct: 1 },
                            { q: "Resultado de descomponer 24 en factores primos:", options: ["2^3 * 3", "2 * 3 * 4", "8 * 3", "2 * 2 * 6"], correct: 0 },
                            { q: "¬øCu√°l de estos es un m√∫ltiplo com√∫n de 5 y 6?", options: ["11", "15", "20", "30"], correct: 3 },
                            { q: "La descomposici√≥n de 12 es:", options: ["2 * 6", "3 * 4", "2 elevado a 2 * 3", "12 * 1"], correct: 2 },
                            { q: "Un n√∫mero es divisible por 9 si la suma de sus cifras es divisible por:", options: ["3", "6", "9", "8"], correct: 2 }
                        ]
                                                                        
                    },
                    "2¬™ evaluaci√≥n": {
                        "Fracciones": [
                            // Bloque 1: Lectura, Representaci√≥n y Comparaci√≥n
                            { q: "¬øC√≥mo se lee 3/5?", options: ["Tres quinto", "Tres quintos", "Tres partido cinco", "Cinco tercios"], correct: 1 },
                            { q: "¬øC√≥mo se lee 1/2?", options: ["Un dos", "Un medio", "La mitad", "Dos uno"], correct: 1 },
                            { q: "¬øCu√°l es el numerador en 4/7?", options: ["7", "4", "11", "3"], correct: 1 },
                            { q: "¬øCu√°l es el denominador en 5/8?", options: ["5", "8", "13", "3"], correct: 1 },
                            { q: "¬øCu√°l es mayor: 3/4 o 1/4?", options: ["1/4", "3/4", "Son iguales", "Falta dato"], correct: 1 },
                            { q: "¬øCu√°l es menor: 2/5 o 4/5?", options: ["4/5", "2/5", "Son iguales", "Falta dato"], correct: 1 },
                            { q: "¬øC√≥mo se lee 7/10?", options: ["Siete d√©cimo", "Siete d√©cimos", "Diez s√©ptimos", "Siete diez"], correct: 1 },
                            { q: "¬øCu√°l es la fracci√≥n para un cuarto?", options: ["4/1", "1/4", "1/2", "2/4"], correct: 1 },
                            { q: "¬øQu√© fracci√≥n es 0.5?", options: ["1/4", "1/3", "1/2", "1/5"], correct: 2 },
                            { q: "¬øCu√°l es mayor: 1/2 o 1/3?", options: ["1/3", "1/2", "Son iguales", "Falta dato"], correct: 1 },
                            { q: "¬øCu√°l es menor: 2/7 o 2/3?", options: ["2/3", "2/7", "Son iguales", "Falta dato"], correct: 1 },
                            { q: "Fracci√≥n Propia (Num < Den):", options: ["5/3", "3/5", "5/5", "6/2"], correct: 1 },
                            { q: "Fracci√≥n Impropia (Num > Den):", options: ["1/2", "3/4", "4/3", "2/5"], correct: 2 },
                            { q: "¬øC√≥mo se lee 2/3?", options: ["Dos tercios", "Tres medios", "Dos tres", "Dos terzos"], correct: 0 },
                            { q: "¬øCu√°l es el numerador en 8/9?", options: ["9", "8", "17", "1"], correct: 1 },
                            { q: "¬øCu√°l es mayor: 5/6 o 4/6?", options: ["4/6", "5/6", "Son iguales", "Falta dato"], correct: 1 },
                            { q: "¬øCu√°l es menor: 3/10 o 7/10?", options: ["7/10", "3/10", "Son iguales", "Falta dato"], correct: 1 },
                            { q: "El n√∫mero 1 se representa como:", options: ["1/2", "3/4", "5/5", "2/1"], correct: 2 },
                            { q: "Fracci√≥n con Denominador 6:", options: ["6/1", "1/6", "6", "1/2"], correct: 1 },
                            { q: "¬øCu√°l es mayor: 5/7 o 3/7?", options: ["3/7", "5/7", "Son iguales", "Falta dato"], correct: 1 },
                            { q: "¬øCu√°l es menor: 1/5 o 1/8?", options: ["1/5", "1/8", "Son iguales", "Falta dato"], correct: 1 },
                            { q: "¬øC√≥mo se lee 9/4?", options: ["Nueve cuartos", "Cuatro novenos", "Nueve cuatro", "Cuatro cuartos"], correct: 0 },
                            { q: "¬øCu√°l es el denominador en 1/9?", options: ["1", "9", "0", "10"], correct: 1 },
                            { q: "Fracci√≥n equivalente a 1/1 (un entero):", options: ["1/2", "2/3", "4/4", "3/1"], correct: 2 },
                            { q: "¬øCu√°l es mayor: 5/12 o 7/12?", options: ["5/12", "7/12", "Son iguales", "Falta dato"], correct: 1 },
                            { q: "¬øCu√°l es menor: 2/9 o 2/5?", options: ["2/5", "2/9", "Son iguales", "Falta dato"], correct: 1 },
                            // Bloque 2: Fracciones Equivalentes y Simplificaci√≥n
                            { q: "Fracci√≥n equivalente a 1/2:", options: ["3/4", "2/4", "1/3", "4/6"], correct: 1 },
                            { q: "Fracci√≥n equivalente a 1/3:", options: ["2/6", "1/6", "2/5", "3/4"], correct: 0 },
                            { q: "Simplifica 5/10 (dividir por 5):", options: ["5/2", "1/5", "1/2", "1/1"], correct: 2 },
                            { q: "Simplifica 6/9 (dividir por 3):", options: ["3/6", "2/3", "6/3", "1/9"], correct: 1 },
                            { q: "Fracci√≥n equivalente a 3/3:", options: ["1/3", "3/1", "4/4", "6/9"], correct: 2 },
                            { q: "Fracci√≥n equivalente a 2/5:", options: ["4/5", "4/10", "2/10", "5/2"], correct: 1 },
                            { q: "Simplifica 8/12 (dividir por 4):", options: ["2/3", "4/6", "1/2", "8/4"], correct: 0 },
                            { q: "Fracci√≥n equivalente a 1/4:", options: ["2/8", "1/8", "2/4", "4/16"], correct: 0 },
                            { q: "Simplifica 4/6 (dividir por 2):", options: ["2/3", "1/3", "4/2", "3/2"], correct: 0 },
                            { q: "Fracci√≥n equivalente a 3/1:", options: ["3/3", "1/3", "6/2", "3/6"], correct: 2 },
                            { q: "Fracci√≥n equivalente a 4/8:", options: ["1/4", "1/2", "2/8", "3/4"], correct: 1 },
                            { q: "Simplifica 10/10 (dividir por 10):", options: ["1/5", "1/1", "2/1", "10/1"], correct: 1 },
                            { q: "Fracci√≥n equivalente a 2/2:", options: ["2/4", "1/1", "3/2", "2/1"], correct: 1 },
                            { q: "Fracci√≥n equivalente a 5/6:", options: ["10/12", "5/12", "6/5", "10/6"], correct: 0 },
                            { q: "Simplifica 12/15 (dividir por 3):", options: ["4/5", "3/5", "12/5", "5/4"], correct: 0 },
                            { q: "Fracci√≥n equivalente a 7/7:", options: ["14/14", "7/1", "1/7", "7/14"], correct: 0 },
                            { q: "Fracci√≥n equivalente a 1/5:", options: ["2/10", "1/10", "2/5", "5/10"], correct: 0 },
                            { q: "Simplifica 20/30 (dividir por 10):", options: ["1/3", "2/3", "3/2", "1/2"], correct: 1 },
                            { q: "Fracci√≥n equivalente a 3/2:", options: ["6/4", "3/4", "2/3", "4/6"], correct: 0 },
                            { q: "Simplifica 14/21 (dividir por 7):", options: ["2/3", "3/4", "1/2", "7/3"], correct: 0 },
                            { q: "Fracci√≥n equivalente a 1/6:", options: ["2/12", "1/12", "6/1", "2/6"], correct: 0 },
                            { q: "Simplifica 9/12 (dividir por 3):", options: ["1/4", "3/4", "9/3", "4/3"], correct: 1 },
                            { q: "Fracci√≥n equivalente a 4/5:", options: ["8/10", "4/10", "5/4", "10/8"], correct: 0 },
                            { q: "Simplifica 15/20 (dividir por 5):", options: ["3/4", "4/3", "5/4", "15/5"], correct: 0 },
                            { q: "Fracci√≥n equivalente a 1/10:", options: ["2/20", "1/20", "10/1", "2/10"], correct: 0 },
                            { q: "Simplifica 2/8 (dividir por 2):", options: ["1/4", "1/2", "2/4", "2/1"], correct: 0 },
                            // Bloque 3: Operaciones con Fracciones (Mismo denominador y multiplicaci√≥n simple)
                            { q: "¬øCu√°nto es 1/5 + 2/5?", options: ["3/10", "3/5", "1/5", "2/10"], correct: 1 },
                            { q: "¬øCu√°nto es 4/7 - 1/7?", options: ["3/7", "5/7", "3/0", "4/1"], correct: 0 },
                            { q: "¬øCu√°nto es 1/4 √ó 2?", options: ["2/8", "2/4", "1/8", "3/4"], correct: 1 },
                            { q: "¬øCu√°nto es 2/3 + 1/3?", options: ["3/6", "3/3", "1/3", "2/3"], correct: 1 },
                            { q: "¬øCu√°nto es 5/6 - 2/6?", options: ["3/0", "3/6", "7/6", "5/2"], correct: 1 },
                            { q: "¬øCu√°nto es 3/5 √ó 2?", options: ["6/10", "6/5", "3/10", "5/6"], correct: 1 },
                            { q: "¬øCu√°nto es 3/8 + 4/8?", options: ["7/16", "7/8", "1/8", "7/0"], correct: 1 },
                            { q: "¬øCu√°nto es 9/10 - 4/10?", options: ["5/10", "13/10", "5/0", "9/4"], correct: 0 },
                            { q: "¬øCu√°nto es 1/10 √ó 3?", options: ["3/30", "3/10", "1/30", "4/10"], correct: 1 },
                            { q: "¬øCu√°nto es 1/6 + 2/6?", options: ["3/12", "3/6", "1/6", "2/6"], correct: 1 },
                            { q: "¬øCu√°nto es 7/9 - 5/9?", options: ["2/0", "12/9", "2/9", "7/5"], correct: 2 },
                            { q: "¬øCu√°nto es 2/7 √ó 2?", options: ["4/14", "4/7", "2/14", "7/4"], correct: 1 },
                            { q: "¬øCu√°nto es 5/11 + 3/11?", options: ["8/22", "8/11", "2/11", "5/3"], correct: 1 },
                            { q: "¬øCu√°nto es 6/8 - 1/8?", options: ["5/0", "5/8", "7/8", "6/1"], correct: 1 },
                            { q: "¬øCu√°nto es 4/9 √ó 2?", options: ["8/18", "8/9", "4/18", "9/8"], correct: 1 },
                            { q: "¬øCu√°nto es 1/2 + 1/2?", options: ["2/4", "2/2", "1/2", "0/2"], correct: 1 },
                            { q: "¬øCu√°nto es 10/10 - 3/10?", options: ["7/20", "7/10", "13/10", "7/0"], correct: 1 },
                            { q: "¬øCu√°nto es 5/12 √ó 2?", options: ["10/24", "10/12", "5/24", "12/10"], correct: 1 },
                            { q: "¬øCu√°nto es 1/8 + 1/8?", options: ["2/16", "2/8", "1/8", "0/8"], correct: 1 },
                            { q: "¬øCu√°nto es 4/5 - 1/5?", options: ["3/0", "3/5", "5/5", "4/1"], correct: 1 },
                            { q: "¬øCu√°nto es 1/7 √ó 5?", options: ["5/35", "5/7", "1/35", "7/5"], correct: 1 },
                            { q: "¬øCu√°nto es 2/9 + 4/9?", options: ["6/18", "6/9", "2/9", "4/9"], correct: 1 },                                                      
                            { q: "Un tercio (1/3) de 90 es:", options: ["10", "30", "9", "60"], correct: 1 },
                            { q: "Suma de 2/5 + 1/5:", options: ["3/10", "3/5", "1/5", "4/5"], correct: 1 },
                            { q: "Multiplicaci√≥n de 2/3 por 4/5:", options: ["6/8", "8/15", "2/15", "10/12"], correct: 1 },
                            { q: "Divisi√≥n de 1/2 entre 1/4:", options: ["1/8", "2", "1/2", "4"], correct: 1 },
                            { q: "¬øQu√© fracci√≥n es equivalente a 1/2?", options: ["2/3", "4/8", "1/4", "3/5"], correct: 1 },
                            { q: "Resta de 5/6 - 1/6:", options: ["4/12", "1", "4/6", "5/6"], correct: 2 },
                            { q: "Fracci√≥n que representa 'la mitad de un tercio' (1/2 de 1/3):", options: ["1/6", "2/6", "1/5", "3/2"], correct: 0 },
                            { q: "Pasa 0,7 a fracci√≥n (simplificada):", options: ["7/100", "7/10", "7/1", "1/7"], correct: 1 },
                            { q: "¬øQu√© fracci√≥n es mayor, 2/5 o 3/5?", options: ["2/5", "3/5", "Son iguales", "Falta informaci√≥n"], correct: 1 },
                            { q: "El n√∫mero mixto 1 y 1/4 es igual a la fracci√≥n impropia:", options: ["5/4", "4/5", "1/4", "6/4"], correct: 0 },
                            { q: "Resta de 1 - 3/4:", options: ["1/4", "2/4", "3/4", "0"], correct: 0 },
                            { q: "¬øCu√°l es la fracci√≥n irreducible de 10/20?", options: ["5/10", "1/2", "2/4", "10/20"], correct: 1 },
                            { q: "Multiplicaci√≥n de 3 * (1/3):", options: ["1/3", "3", "1", "9"], correct: 2 },
                            { q: "Pasa la fracci√≥n 4/2 a n√∫mero natural:", options: ["4", "1", "2", "8"], correct: 2 },
                            { q: "Suma de 1/2 + 1/4:", options: ["2/6", "3/4", "1/8", "3/2"], correct: 1 },
                            { q: "Divisi√≥n de 3/5 entre 2:", options: ["6/5", "3/10", "3/2", "5/3"], correct: 1 },
                            { q: "¬øQu√© fracci√≥n es menor, 1/3 o 1/4?", options: ["1/3", "1/4", "Son iguales", "No se puede saber"], correct: 1 },
                            { q: "Pasa la fracci√≥n impropia 7/3 a n√∫mero mixto:", options: ["3 y 1/7", "2 y 1/3", "7 y 3", "2 y 2/3"], correct: 1 },
                            { q: "Calcula 2/3 de 15:", options: ["30", "10", "5", "45"], correct: 1 },
                            { q: "Resultado de (1/2) elevado a 2:", options: ["1/4", "1", "1/2", "2"], correct: 0 },                       
                            { q: "Resultado de 500 - 15,5:", options: ["484,5", "499,5", "485,5", "494,5"], correct: 0 },
                            { q: "Redondea 3,78 a la d√©cima m√°s cercana:", options: ["3,8", "3,7", "4,0", "3,79"], correct: 0 },
                            { q: "Resultado de 2,5 * 4:", options: ["100", "10", "12,5", "9"], correct: 1 },
                            { q: "Pasa 1/5 a n√∫mero decimal:", options: ["0,5", "1,5", "0,2", "0,1"], correct: 2 },
                            { q: "¬øCu√°l es el valor posicional del 9 en 12,95?", options: ["Unidades", "D√©cimas", "Cent√©simas", "Mil√©simas"], correct: 1 },
                            { q: "Resultado de 1,2 + 3,45:", options: ["4,65", "4,55", "5,65", "4,57"], correct: 0 },
                            { q: "Resultado de 10 / 0,5:", options: ["5", "20", "50", "0,5"], correct: 1 },
                            { q: "Resultado de 0,1 * 0,1:", options: ["1", "0,1", "0,01", "0,11"], correct: 2 },
                            { q: "Ordena de mayor a menor: 1,5; 1,05; 1,55:", options: ["1,55; 1,5; 1,05", "1,5; 1,55; 1,05", "1,05; 1,5; 1,55", "1,55; 1,05; 1,5"], correct: 0 },
                            { q: "Aproxima 4,236 a la cent√©sima m√°s cercana:", options: ["4,23", "4,24", "4,2", "4,3"], correct: 1 },
                            { q: "Resultado de 10 * 3,45:", options: ["345", "3,45", "34,5", "3450"], correct: 2 },
                            { q: "Resultado de 5,5 / 100:", options: ["0,055", "55", "550", "0,55"], correct: 0 },
                            { q: "Resta de 8 - 0,9:", options: ["7,1", "7,9", "8,9", "8,1"], correct: 0 },
                            { q: "El n√∫mero 0,001 se lee como:", options: ["Una d√©cima", "Una cent√©sima", "Un mil√©simo", "Un diezmil√©simo"], correct: 2 },
                            { q: "Resultado de (2,1 + 0,9) * 3:", options: ["9", "3", "6,3", "12"], correct: 0 },
                            { q: "El precio de un producto es 12,50 y tiene un descuento de 2. ¬øCu√°nto cuesta?", options: ["14,50", "10,50", "10,00", "11,50"], correct: 1 },
                            { q: "Resultado de 0,5 * 1000:", options: ["50", "500", "5000", "5"], correct: 1 },
                            { q: "Resultado de 25,5 - 5,5:", options: ["20", "21", "20,5", "19,5"], correct: 0 },
                            { q: "El resultado de la divisi√≥n 7 / 2 es:", options: ["3,2", "3,5", "4,2", "4,5"], correct: 1 },
                            { q: "Resultado de 3,7 + 1,3 + 5:", options: ["10", "10,5", "9,7", "9,3"], correct: 0 },                    
                            { q: "Si 2 kilos de manzanas cuestan 4 euros, ¬øcu√°nto cuestan 5 kilos?", options: ["8 euros", "10 euros", "12 euros", "9 euros"], correct: 1 },
                            { q: "El 50% de 80 es:", options: ["50", "40", "160", "8"], correct: 1 },
                            { q: "La fracci√≥n 1/4 equivale al porcentaje:", options: ["40%", "25%", "14%", "50%"], correct: 1 },
                            { q: "Si un art√≠culo cuesta 100 euros y tiene un descuento del 10%, ¬øcu√°nto pagas?", options: ["90 euros", "110 euros", "10 euros", "80 euros"], correct: 0 },
                            { q: "Si 3 obreros tardan 4 d√≠as en pintar una casa, ¬øcu√°nto tardar√≠an 6 obreros? (Proporcionalidad inversa)", options: ["8 d√≠as", "2 d√≠as", "4 d√≠as", "12 d√≠as"], correct: 1 },
                            { q: "El porcentaje 20% se expresa en decimal como:", options: ["0,2", "2,0", "0,02", "20,0"], correct: 0 },
                            { q: "Si en una clase de 25 alumnos, 5 son rubios. ¬øQu√© porcentaje son rubios?", options: ["5%", "20%", "25%", "50%"], correct: 1 },
                            { q: "Si 5 fotocopias cuestan 0,50 euros, ¬øcu√°nto cuestan 15 fotocopias?", options: ["1,50 euros", "1,00 euros", "2,00 euros", "0,75 euros"], correct: 0 },
                            { q: "¬øQu√© porcentaje de 20 es 5?", options: ["5%", "10%", "25%", "50%"], correct: 2 },
                            { q: "La raz√≥n 10/20 simplificada es:", options: ["1/10", "1/2", "2/1", "1/20"], correct: 1 },
                            { q: "Si 4,5 kg de fruta cuestan 9 euros, ¬øcu√°nto cuesta 1 kg?", options: ["2 euros", "4,5 euros", "0,5 euros", "3 euros"], correct: 0 },
                            { q: "El 1% de 200 es:", options: ["20", "1", "2", "0,2"], correct: 2 },
                            { q: "Si A es a B como 3 es a 5, y B vale 15, ¬øcu√°nto vale A?", options: ["9", "10", "3", "5"], correct: 0 },
                            { q: "La expresi√≥n 'la cuarta parte' en porcentaje es:", options: ["4%", "40%", "25%", "75%"], correct: 2 },
                            { q: "Un coche recorre 150 km en 2 horas. ¬øCu√°ntos km recorrer√° en 3 horas? (Velocidad constante)", options: ["200 km", "225 km", "180 km", "300 km"], correct: 1 },
                            { q: "Si el 10% de un n√∫mero es 5, ¬øcu√°l es el n√∫mero?", options: ["50", "100", "5", "25"], correct: 0 },
                            { q: "El 25% de 400 es:", options: ["100", "50", "200", "25"], correct: 0 },
                            { q: "Si una receta para 2 personas necesita 100g de harina, ¬øcu√°ntos gramos necesita para 6 personas?", options: ["200g", "300g", "400g", "600g"], correct: 1 },
                            { q: "La mitad de la mitad es:", options: ["1/2", "1/4", "1/8", "1/1"], correct: 1 },
                            { q: "Un aumento del 20% significa multiplicar el precio por:", options: ["0,2", "1,2", "0,8", "2,0"], correct: 1 }
                        ]                      
                        
                    },
                    "3¬™ evaluaci√≥n": {
                        "Estad√≠stica": [
                            // Bloque 1: Definiciones y Reconocimiento
                            { q: "El promedio de los datos es la...", options: ["Moda", "Mediana", "Media", "Frecuencia"], correct: 2 },
                            { q: "El valor que m√°s se repite es la...", options: ["Media", "Mediana", "Moda", "Promedio"], correct: 2 },
                            { q: "El valor central de los datos es la...", options: ["Media", "Mediana", "Moda", "Frecuencia"], correct: 1 },
                            { q: "¬øQu√© es el promedio?", options: ["El valor central", "La suma de datos/n¬∫ de datos", "El valor repetido", "El valor mayor"], correct: 1 },
                            { q: "Para calcular la Mediana, primero hay que...", options: ["Sumar datos", "Dividir", "Ordenar datos", "Contar datos"], correct: 2 },
                            { q: "La Media es sensible a valores...", options: ["Centrales", "Peque√±os", "Extremos", "Repetidos"], correct: 2 },
                            { q: "El valor 5 aparece 10 veces. Esto es la...", options: ["Media", "Mediana", "Moda", "Frecuencia"], correct: 3 },
                            { q: "¬øQu√© medida se puede usar con datos NO num√©ricos (cualitativos)?", options: ["Media", "Mediana", "Moda", "Rango"], correct: 2 },
                            { q: "En datos ordenados, la Mediana es la posici√≥n...", options: ["Inicial", "Final", "Central", "Mayor"], correct: 2 },
                            { q: "La suma de datos entre el n√∫mero de datos es la f√≥rmula de la...", options: ["Moda", "Mediana", "Media", "Frecuencia"], correct: 2 },
                            { q: "Un dato que aparece muchas veces est√° 'de'...", options: ["Mediana", "Promedio", "Moda", "Media"], correct: 2 },
                            { q: "Si la lista de datos es par, la Mediana es la media de los dos valores...", options: ["Primeros", "√öltimos", "Centrales", "Mayores"], correct: 2 },
                            { q: "La Media representa el valor...", options: ["M√°ximo", "T√≠pico/Promedio", "M√≠nimo", "Repetido"], correct: 1 },
                            { q: "La Mediana divide la muestra en dos partes iguales: un 50% y un...", options: ["25%", "75%", "50%", "100%"], correct: 2 },
                            { q: "N√∫mero de veces que se repite un dato (ni):", options: ["Mediana", "Moda", "Frecuencia absoluta", "Media"], correct: 2 },
                            { q: "¬øQu√© medida representa el centro de gravedad de los datos?", options: ["Moda", "Mediana", "Media", "Rango"], correct: 2 },
                            { q: "El dato con mayor Frecuencia Absoluta es la...", options: ["Media", "Mediana", "Moda", "Rango"], correct: 2 },
                            { q: "Si los datos son: 1, 2, 3, 4, 5. ¬øNecesitan ordenarse para la Media?", options: ["S√≠", "No", "Solo si son impares", "Solo si son pares"], correct: 1 },
                            { q: "Si los datos son: 1, 2, 3, 4, 5. ¬øNecesitan ordenarse para la Mediana?", options: ["No", "S√≠", "Solo si son impares", "Solo si son pares"], correct: 1 },
                            { q: "El valor central se calcula despu√©s de...", options: ["Sumar", "Dividir", "Ordenar", "Multiplicar"], correct: 2 },
                            { q: "La Moda puede tener m√°s de un valor.", options: ["Falso", "Verdadero", "Solo si es impar", "Solo si es par"], correct: 1 },
                            { q: "La Media siempre es uno de los datos de la lista.", options: ["Verdadero", "Falso", "A veces", "Nunca"], correct: 1 },
                            { q: "¬øQu√© medida NO se ve afectada por un valor extremo (outlier)?", options: ["Media", "Mediana", "Moda", "Promedio"], correct: 1 },
                            { q: "La suma de todos los datos dividida por la cantidad de datos es la...", options: ["Mediana", "Moda", "Media", "Frecuencia"], correct: 2 },
                            { q: "Para calcular la Media, ¬øse necesita ordenar los datos?", options: ["S√≠", "No", "Solo a veces", "Depende"], correct: 1 },
                            { q: "La medida m√°s f√°cil de calcular es la...", options: ["Media", "Mediana", "Moda", "Rango"], correct: 2 },
                            // Bloque 2: C√°lculo de la Media
                            { q: "Media de 2, 4, 6:", options: ["3", "4", "5", "6"], correct: 1 },
                            { q: "Media de 1, 1, 4:", options: ["1", "2", "3", "4"], correct: 1 },
                            { q: "Media de 10, 20:", options: ["10", "15", "20", "30"], correct: 1 },
                            { q: "Media de 5, 5, 5:", options: ["4", "5", "6", "15"], correct: 1 },
                            { q: "Media de 1, 2, 3, 4:", options: ["2", "2.5", "3", "3.5"], correct: 1 },
                            { q: "Media de 1, 5, 6:", options: ["3", "4", "5", "6"], correct: 1 },
                            { q: "Media de 8, 8, 8, 8:", options: ["7", "8", "9", "32"], correct: 1 },
                            { q: "Media de 2, 3, 4, 5, 6:", options: ["3", "4", "5", "6"], correct: 1 },
                            { q: "Media de 0, 10:", options: ["0", "5", "10", "20"], correct: 1 },
                            { q: "Media de 3, 3, 6:", options: ["3", "4", "5", "6"], correct: 1 },
                            { q: "Media de 7, 7, 7, 7, 7:", options: ["6", "7", "8", "35"], correct: 1 },
                            { q: "Media de 1, 2, 6:", options: ["2", "3", "4", "5"], correct: 1 },
                            { q: "Media de 10, 30, 50:", options: ["20", "30", "40", "50"], correct: 1 },
                            { q: "Media de 1, 1, 1, 1, 1:", options: ["0", "1", "2", "3"], correct: 1 },
                            { q: "Media de 4, 5, 6:", options: ["4", "5", "6", "5.5"], correct: 1 },
                            { q: "Media de 2, 8:", options: ["4", "5", "6", "10"], correct: 1 },
                            { q: "Media de 1, 3, 5, 7:", options: ["3", "4", "5", "4.5"], correct: 1 },
                            { q: "Media de 2, 2, 2, 2:", options: ["1", "2", "3", "4"], correct: 1 },
                            { q: "Media de 2, 4, 8:", options: ["4", "4.67", "5", "14"], correct: 1 },
                            { q: "Media de 9, 9, 9:", options: ["8", "9", "10", "27"], correct: 1 },
                            { q: "Media de 1, 1, 1, 5:", options: ["1", "2", "3", "4"], correct: 1 },
                            { q: "Media de 6, 7, 8:", options: ["6.5", "7", "7.5", "21"], correct: 1 },
                            { q: "Media de 10, 10, 20:", options: ["10", "15", "20", "40"], correct: 1 },
                            { q: "Media de 5, 10, 15:", options: ["10", "15", "20", "30"], correct: 0 },
                            { q: "Media de 10, 10:", options: ["5", "10", "15", "20"], correct: 1 },
                            { q: "Media de 1, 2, 7:", options: ["3", "4", "5", "10"], correct: 1 },
                            // Bloque 3: C√°lculo de Moda y Mediana
                            { q: "Moda de 1, 2, 2, 3, 4:", options: ["1", "2", "3", "4"], correct: 1 },
                            { q: "Mediana de 1, 2, 3:", options: ["1", "2", "3", "1.5"], correct: 1 },
                            { q: "Moda de 5, 5, 6, 7, 8:", options: ["6", "5", "7", "8"], correct: 1 },
                            { q: "Mediana de 1, 3, 5, 7:", options: ["3", "4", "5", "6"], correct: 1 },
                            { q: "Moda de 10, 10, 20, 30:", options: ["20", "10", "30", "No hay"], correct: 1 },
                            { q: "Mediana de 2, 4, 6, 8, 10:", options: ["4", "6", "8", "10"], correct: 1 },
                            { q: "Moda de 4, 5, 6, 7:", options: ["4", "6", "7", "No hay"], correct: 3 },
                            { q: "Mediana de 1, 5, 10:", options: ["1", "5", "10", "6"], correct: 1 },
                            { q: "Moda de 1, 2, 3, 3, 3:", options: ["1", "2", "3", "No hay"], correct: 2 },
                            { q: "Mediana de 10, 10, 20, 30:", options: ["10", "15", "20", "25"], correct: 1 },
                            { q: "Moda de 8, 8, 9, 10, 10:", options: ["8 y 10", "8", "10", "9"], correct: 0 },
                            { q: "Mediana de 5, 10, 15, 20, 25:", options: ["10", "15", "20", "30"], correct: 1 },
                            { q: "Moda de 1, 5, 5, 5, 6:", options: ["1", "5", "6", "No hay"], correct: 1 },
                            { q: "Mediana de 2, 2, 4:", options: ["2", "3", "4", "2.5"], correct: 0 },
                            { q: "Moda de 3, 4, 4, 5, 5:", options: ["3", "4 y 5", "5", "4"], correct: 1 },
                            { q: "Mediana de 1, 2, 4, 5:", options: ["2", "3", "4", "5"], correct: 1 },
                            { q: "Moda de 7, 7, 8, 9:", options: ["8", "7", "9", "No hay"], correct: 1 },
                            { q: "Mediana de 6, 7, 8:", options: ["6", "7", "8", "6.5"], correct: 1 },
                            { q: "Moda de 1, 1, 1, 5, 5:", options: ["1 y 5", "1", "5", "3"], correct: 1 },
                            { q: "Mediana de 3, 3, 3, 4, 5:", options: ["3", "4", "5", "3.5"], correct: 0 },
                            { q: "Moda de 0, 1, 1, 2, 2, 2:", options: ["1", "2", "0", "1 y 2"], correct: 1 },
                            { q: "Mediana de 10, 12, 14:", options: ["10", "12", "14", "13"], correct: 1 },
                            { q: "Moda de 1, 2, 3, 4, 5:", options: ["3", "1", "5", "No hay"], correct: 3 },
                            { q: "Mediana de 8, 10, 12, 14:", options: ["10", "11", "12", "14"], correct: 1 },
                            { q: "Moda de 9, 9, 9, 10:", options: ["9", "10", "9 y 10", "No hay"], correct: 0 },
                            { q: "Mediana de 1, 5, 10, 20:", options: ["5", "7.5", "10", "15"], correct: 1 },                           
                            { q: "Valor de 'x' en la ecuaci√≥n x + 5 = 12:", options: ["17", "7", "60", "-7"], correct: 1 },
                            { q: "Expresi√≥n que representa 'el doble de un n√∫mero menos 3':", options: ["x^2 - 3", "3x - 2", "2x - 3", "2(x-3)"], correct: 2 },
                            { q: "Valor de 'x' en la ecuaci√≥n 3x = 15:", options: ["5", "12", "18", "45"], correct: 0 },
                            { q: "El monomio equivalente a x + x + x es:", options: ["x elevado a 3", "3x", "x+3", "3"], correct: 1 },
                            { q: "Si un n√∫mero se multiplica por 4 y se le resta 2, el resultado es 10. ¬øCu√°l es el n√∫mero?", options: ["2", "3", "4", "5"], correct: 1 },
                            { q: "Valor de 'x' en la ecuaci√≥n x / 2 = 6:", options: ["3", "12", "8", "4"], correct: 1 },
                            { q: "Simplifica la expresi√≥n: 5a + 2a - a:", options: ["6a", "5a", "7a", "6"], correct: 0 },
                            { q: "Expresi√≥n que representa 'un n√∫mero al cuadrado':", options: ["2x", "x elevado a 2", "2+x", "x/2"], correct: 1 },
                            { q: "Valor de 'x' en la ecuaci√≥n 2x - 1 = 7:", options: ["3", "4", "8", "16"], correct: 1 },
                            { q: "El valor num√©rico de la expresi√≥n 3x - 1 para x = 4 es:", options: ["11", "34", "13", "12"], correct: 0 },
                            { q: "El per√≠metro de un cuadrado de lado 'L' es:", options: ["L elevado a 2", "4L", "L+4", "2L"], correct: 1 },
                            { q: "Expresi√≥n que representa 'el anterior de un n√∫mero':", options: ["n+1", "2n", "n-1", "n/2"], correct: 2 },
                            { q: "Valor de 'x' en la ecuaci√≥n x/3 + 1 = 4:", options: ["3", "12", "9", "6"], correct: 2 },
                            { q: "Simplifica la expresi√≥n: 3x + y - x + 2y:", options: ["3xy", "2x + 3y", "4x + 3y", "5xy"], correct: 1 },
                            { q: "Traducci√≥n de 'el triple de un n√∫mero aumentado en 5':", options: ["3(x+5)", "3x + 5", "x + 35", "3+x+5"], correct: 1 },
                            { q: "Valor de 'x' en la ecuaci√≥n 10 - x = 3:", options: ["13", "7", "-7", "30"], correct: 1 },
                            { q: "El grado del monomio 5x elevado a 2 y es:", options: ["2", "3", "5", "1"], correct: 1 },
                            { q: "El doble de un n√∫mero m√°s su mitad es 10. ¬øCu√°l es el n√∫mero?", options: ["5", "4", "6", "8"], correct: 1 },
                            { q: "Valor de 'x' en 5 + x = 5:", options: ["10", "1", "0", "5"], correct: 2 },
                            { q: "Expresi√≥n para el √°rea de un tri√°ngulo de base 'b' y altura 'h':", options: ["b * h", "b+h/2", "b * h / 2", "2(b+h)"], correct: 2 },                        
                            { q: "El √°rea de un cuadrado de lado 5 cm es:", options: ["10 cm", "25 cm cuadrados", "20 cm cuadrados", "25 cm"], correct: 1 },
                            { q: "El per√≠metro de un rect√°ngulo de lados 4 cm y 6 cm es:", options: ["10 cm", "24 cm", "20 cm", "12 cm"], correct: 2 },
                            { q: "La suma de los √°ngulos interiores de un tri√°ngulo es siempre:", options: ["90 grados", "180 grados", "360 grados", "100 grados"], correct: 1 },
                            { q: "El volumen de un cubo de arista 3 metros es:", options: ["9 m c√∫bicos", "27 m cuadrados", "27 m c√∫bicos", "18 m c√∫bicos"], correct: 2 },
                            { q: "Un √°ngulo agudo mide:", options: ["M√°s de 90 grados", "90 grados", "Menos de 90 grados", "180 grados"], correct: 2 },
                            { q: "El √°rea de un tri√°ngulo con base 4 y altura 5 es:", options: ["20", "10", "9", "40"], correct: 1 },
                            { q: "La circunferencia es el per√≠metro del:", options: ["Cuadrado", "C√≠rculo", "Tri√°ngulo", "Cubo"], correct: 1 },
                            { q: "Si el radio de un c√≠rculo es 5, su di√°metro es:", options: ["25", "10", "5", "2,5"], correct: 1 },
                            { q: "Un pol√≠gono de 6 lados se llama:", options: ["Pent√°gono", "Hept√°gono", "Hex√°gono", "Oct√≥gono"], correct: 2 },
                            { q: "Las l√≠neas que nunca se cruzan se llaman:", options: ["Perpendiculares", "Oblicuas", "Paralelas", "Secantes"], correct: 2 },
                            { q: "El √°rea de un c√≠rculo de radio 1 (usando Pi = 3,14) es:", options: ["3,14", "6,28", "1", "2"], correct: 0 },
                            { q: "¬øCu√°ntos v√©rtices tiene un cubo?", options: ["6", "8", "12", "4"], correct: 1 },
                            { q: "El per√≠metro de un pent√°gono regular con lado 7 cm es:", options: ["35 cm", "49 cm", "28 cm", "30 cm"], correct: 0 },
                            { q: "Un √°ngulo llano mide:", options: ["90 grados", "180 grados", "360 grados", "270 grados"], correct: 1 },
                            { q: "La figura con 4 lados iguales y 4 √°ngulos rectos es un:", options: ["Rect√°ngulo", "Rombo", "Trapecio", "Cuadrado"], correct: 3 },
                            { q: "El volumen de un prisma rectangular con lados 2, 3 y 4 es:", options: ["9", "12", "24", "16"], correct: 2 },
                            { q: "¬øC√≥mo se llama la l√≠nea que divide un c√≠rculo en dos mitades?", options: ["Radio", "Tangente", "Cuerda", "Di√°metro"], correct: 3 },
                            { q: "El Teorema de Pit√°goras se aplica a qu√© tipo de tri√°ngulo:", options: ["Equil√°tero", "Obtus√°ngulo", "Rect√°ngulo", "Is√≥sceles"], correct: 2 },
                            { q: "La unidad de medida para el √°rea es:", options: ["Metro", "Metros cuadrados", "Metros c√∫bicos", "Cent√≠metro"], correct: 1 },
                            { q: "Un √°ngulo obtuso mide:", options: ["Menos de 90 grados", "90 grados", "M√°s de 90 y menos de 180 grados", "180 grados"], correct: 2 },                        
                            { q: "En un conjunto de datos, el valor que aparece con m√°s frecuencia es la:", options: ["Media", "Mediana", "Moda", "Rango"], correct: 2 },
                            { q: "La media (promedio) de los n√∫meros 2, 4, y 6 es:", options: ["12", "4", "5", "6"], correct: 1 },
                            { q: "En una bolsa con 5 bolas rojas y 5 azules, ¬øcu√°l es la probabilidad de sacar una roja?", options: ["5/5", "1/5", "1/2", "1/10"], correct: 2 },
                            { q: "En el conjunto de datos 1, 3, 5, 7, 9, ¬øcu√°l es la mediana?", options: ["1", "5", "7", "9"], correct: 1 },
                            { q: "¬øQu√© nombre recibe el resultado de un experimento aleatorio (ej. lanzar un dado)?", options: ["Espacio muestral", "Suceso", "Rango", "Frecuencia"], correct: 1 },
                            { q: "Si lanzas un dado, ¬øcu√°l es la probabilidad de sacar un 7?", options: ["1/6", "1/7", "0", "6/6"], correct: 2 },
                            { q: "El rango de los datos 10, 5, 20 es (valor m√°ximo menos valor m√≠nimo):", options: ["10", "15", "5", "20"], correct: 1 },
                            { q: "La suma de todas las frecuencias relativas debe ser:", options: ["0", "1", "10", "100"], correct: 1 },
                            { q: "Si lanzas una moneda 10 veces y sale cara 7 veces, la frecuencia absoluta de 'cara' es:", options: ["10", "3", "7", "7/10"], correct: 2 },
                            { q: "La representaci√≥n gr√°fica con rect√°ngulos pegados para datos continuos se llama:", options: ["Diagrama de barras", "Gr√°fico de sectores", "Histograma", "Pictograma"], correct: 2 },
                            { q: "En una baraja de 40 cartas, ¬øcu√°l es la probabilidad de sacar un as?", options: ["1/40", "1/10", "4/40", "1/20"], correct: 1 },
                            { q: "La media de las estaturas 150 cm, 160 cm, y 170 cm es:", options: ["165 cm", "155 cm", "160 cm", "170 cm"], correct: 2 },
                            { q: "¬øCu√°l es el suceso seguro al lanzar un dado de 6 caras?", options: ["Sacar un 6", "Sacar un n√∫mero par", "Sacar menos de 7", "Sacar m√°s de 6"], correct: 2 },
                            { q: "En los datos 2, 2, 3, 4, 5, ¬øcu√°l es la moda?", options: ["3", "2", "4", "5"], correct: 1 },
                            { q: "Si tienes 3 camisetas (roja, azul, verde) y 2 pantalones (negro, gris), ¬øcu√°ntas combinaciones puedes hacer?", options: ["5", "6", "12", "3"], correct: 1 },
                            { q: "La mediana de los n√∫meros 1, 2, 3, 4 (el promedio de los dos centrales) es:", options: ["2", "3", "2,5", "4"], correct: 2 },
                            { q: "La probabilidad de un suceso imposible es:", options: ["1", "0", "0,5", "100%"], correct: 1 },
                            { q: "¬øQu√© tipo de gr√°fico usar√≠as para mostrar la evoluci√≥n de la temperatura durante la semana?", options: ["Diagrama de barras", "Gr√°fico de l√≠neas", "Histograma", "Gr√°fico de sectores"], correct: 1 },
                            { q: "En una bolsa hay 10 caramelos, 3 de lim√≥n. ¬øQu√© probabilidad tienes de sacar uno de lim√≥n?", options: ["10/3", "3/10", "7/10", "1/10"], correct: 1 },
                            { q: "Si la media de 4 notas es 6, ¬øcu√°nto suman las 4 notas en total?", options: ["10", "24", "6", "18"], correct: 1 }
                        ]
            }
        }
    },
    
    // üöÄ NUEVA ASIGNATURA: LENGUA
    "Lengua": {
        "1¬∫ESO": {
            "1¬∫ Evaluaci√≥n": {
                "Tema 1: La Comunicaci√≥n": [
        { q: "¬øQu√© tipo de palabra es 'casa'?", options: ["Verbo", "Adjetivo", "Sustantivo", "Adverbio"], correct: 2 },
                            { q: "¬øCu√°l es el plural de 'l√°piz'?", options: ["L√°pizs", "L√°pices", "L√°pizes", "L√°piz"], correct: 1 },
                            { q: "¬øQu√© palabra est√° escrita correctamente?", options: ["Bicicleta", "Bicicreta", "Bicicleta", "Bicicreta"], correct: 0 },
                            { q: "¬øQu√© tiempo verbal es 'comer√©'?", options: ["Presente", "Pret√©rito", "Futuro", "Condicional"], correct: 2 },
                            { q: "¬øQu√© palabra lleva tilde?", options: ["Camion", "Cancion", "Rat√≥n", "Lapiz"], correct: 2 },
                            { q: "¬øQu√© tipo de palabra es 'r√°pidamente'?", options: ["Adjetivo", "Sustantivo", "Verbo", "Adverbio"], correct: 3 },
                            { q: "¬øCu√°l es el ant√≥nimo de 'alto'?", options: ["Grande", "Peque√±o", "Bajo", "Fino"], correct: 2 },
                            { q: "¬øQu√© palabra es un adjetivo?", options: ["Mesa", "Bonito", "Correr", "R√°pido"], correct: 1 },
                            { q: "¬øQu√© letra se usa en 'jirafa'?", options: ["G", "J", "H", "Y"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'b'?", options: ["Vaca", "Beso", "Jugo", "Gato"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'h'?", options: ["uevo", "acer", "humo", "ablar"], correct: 2 },
                            { q: "¬øQu√© palabra es un verbo?", options: ["Correr", "R√°pido", "Mesa", "Bonito"], correct: 0 },
                            { q: "¬øQu√© palabra est√° mal escrita?", options: ["Zapato", "Zielo", "Zumo", "Zorro"], correct: 1 },
                            { q: "¬øCu√°l es el sujeto en la oraci√≥n: 'El gato duerme'?", options: ["El", "gato", "duerme", "El gato"], correct: 3 },
                            { q: "¬øQu√© palabra es un sustantivo abstracto?", options: ["Amor", "Silla", "Perro", "Casa"], correct: 0 },
                            { q: "¬øQu√© tiempo verbal es 'cant√°bamos'?", options: ["Presente", "Futuro", "Pret√©rito imperfecto", "Condicional"], correct: 2 },
                            { q: "¬øQu√© palabra lleva tilde?", options: ["Camion", "Rat√≥n", "Lapiz", "Cancion"], correct: 1 },
                            { q: "¬øQu√© palabra es un sin√≥nimo de 'feliz'?", options: ["Triste", "Contento", "Oscuro", "Feo"], correct: 1 },
                            { q: "¬øQu√© tipo de oraci√≥n es: '¬øD√≥nde est√° el libro?'?", options: ["Exclamativa", "Interrogativa", "Enunciativa", "Imperativa"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'g' suave?", options: ["Gente", "Gato", "Guitarra", "Goma"], correct: 3 },
                            { q: "¬øQu√© palabra lleva 'v'?", options: ["Baca", "Vaca", "Beso", "Bajo"], correct: 1 },
                            { q: "¬øQu√© palabra lleva tilde?", options: ["√Årbol", "Arbol", "Arb√≥l", "Arvol"], correct: 0 },
                            { q: "¬øQu√© palabra es un adverbio?", options: ["Mesa", "Bonito", "R√°pidamente", "Correr"], correct: 2 },
                            { q: "¬øQu√© palabra est√° escrita correctamente?", options: ["Jeneroso", "Generoso", "Henoroso", "Genoroso"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'j'?", options: ["Jugo", "Goma", "Gente", "Guitarra"], correct: 0 },
                            { q: "¬øQu√© palabra lleva 'h'?", options: ["Huevo", "Uevo", "Juevo", "Guevo"], correct: 0 },
                            { q: "¬øQu√© palabra es un verbo en infinitivo?", options: ["Correr", "Corro", "Corr√≠a", "Corr√≠"], correct: 0 },
                            { q: "¬øQu√© palabra es un sin√≥nimo de 'bonito'?", options: ["Feo", "Hermoso", "Triste", "Oscuro"], correct: 1 },
                            { q: "¬øQu√© palabra lleva tilde?", options: ["Lapiz", "L√°piz", "Lap√≠z", "L√°p√≠z"], correct: 1 },
                            { q: "¬øQu√© palabra es un sustantivo?", options: ["Mesa", "R√°pido", "Correr", "Bonito"], correct: 0 },
                            { q: "¬øQu√© palabra lleva tilde?", options: ["Telefono", "Tel√©fono", "Telefon√≥", "Telefon√≥"], correct: 1 },
                            { q: "¬øQu√© palabra est√° escrita correctamente?", options: ["Jeneral", "General", "Generral", "Genaral"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'v'?", options: ["Beso", "Vaso", "Bajo", "Baca"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'b'?", options: ["Vaca", "Beso", "Jugo", "Gato"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'h'?", options: ["Humo", "Umo", "Jumo", "Gumo"], correct: 0 },
                            { q: "¬øQu√© palabra es un adjetivo?", options: ["Mesa", "Bonito", "Correr", "R√°pido"], correct: 1 },
                            { q: "¬øQu√© palabra es un sustantivo?", options: ["Perro", "R√°pido", "Correr", "Bonito"], correct: 0 },
                            { q: "¬øQu√© palabra es un verbo?", options: ["Correr", "Mesa", "Bonito", "R√°pido"], correct: 0 },
                            { q: "¬øQu√© palabra es un adverbio?", options: ["R√°pidamente", "Mesa", "Bonito", "Correr"], correct: 0 },
                            { q: "¬øQu√© palabra lleva tilde?", options: ["Cancion", "Rat√≥n", "Lapiz", "Camion"], correct: 1 },
                            { q: "¬øQu√© palabra est√° mal escrita?", options: ["Zapato", "Zielo", "Zumo", "Zorro"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'g' suave?", options: ["Gente", "Goma", "Guitarra", "Gato"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'j'?", options: ["Jugo", "Goma", "Gente", "Guitarra"], correct: 0 },
                            { q: "¬øQu√© palabra lleva 'h'?", options: ["Huevo", "Uevo", "Juevo", "Guevo"], correct: 0 },
                            { q: "¬øQu√© palabra es un verbo en infinitivo?", options: ["Correr", "Corro", "Corr√≠a", "Corr√≠"], correct: 0 },
                            { q: "¬øQu√© palabra es un sin√≥nimo de 'bonito'?", options: ["Feo", "Hermoso", "Triste", "Oscuro"], correct: 1 },
                            { q: "¬øQu√© palabra lleva tilde?", options: ["Lapiz", "L√°piz", "Lap√≠z", "L√°p√≠z"], correct: 1 },
                            { q: "¬øQu√© palabra es un sustantivo abstracto?", options: ["Amor", "Silla", "Perro", "Casa"], correct: 0 },
                            { q: "¬øQu√© tiempo verbal es 'viv√≠amos'?", options: ["Presente", "Futuro", "Pret√©rito imperfecto", "Condicional"], correct: 2 },
                            { q: "¬øQu√© palabra lleva 'v'?", options: ["Baca", "Vaca", "Bajo", "Beso"], correct: 1 },
                            { q: "¬øQu√© palabra lleva tilde?", options: ["Camion", "Rat√≥n", "Lapiz", "Cancion"], correct: 1 },
                            { q: "¬øQu√© palabra est√° escrita correctamente?", options: ["Hacer", "Acer", "Aser", "Hacerr"], correct: 0 },
                            { q: "¬øQu√© palabra lleva 'g' suave?", options: ["Gente", "Goma", "Guitarra", "Gato"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'j'?", options: ["Jugo", "Goma", "Gente", "Guitarra"], correct: 0 },
                            { q: "¬øQu√© palabra lleva 'h'?", options: ["Humo", "Umo", "Jumo", "Gumo"], correct: 0 },
                            { q: "¬øQu√© palabra es un adjetivo?", options: ["Mesa", "Bonito", "Correr", "R√°pido"], correct: 1 },
                            { q: "¬øQu√© palabra es un sustantivo?", options: ["Perro", "R√°pido", "Correr", "Bonito"], correct: 0 },
                            { q: "¬øQu√© palabra es un verbo?", options: ["Correr", "Mesa", "Bonito", "R√°pido"], correct: 0 },
                            { q: "¬øQu√© palabra es un adverbio?", options: ["R√°pidamente", "Mesa", "Bonito", "Correr"], correct: 0 },
                            { q: "¬øQu√© palabra lleva tilde?", options: ["Cami√≥n", "Camion", "Cam√≠on", "Cam√≠√≥n"], correct: 0 },
                            { q: "¬øQu√© palabra est√° mal escrita?", options: ["Zapato", "Zielo", "Zumo", "Zorro"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'v'?", options: ["Beso", "Vaso", "Bajo", "Baca"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'b'?", options: ["Vaca", "Beso", "Jugo", "Gato"], correct: 1 },
                            { q: "¬øQu√© palabra lleva 'h'?", options: ["Huevo", "Uevo", "Juevo", "Guevo"], correct: 0 },
                            { q: "¬øQu√© palabra es un verbo en infinitivo?", options: ["Correr", "Corro", "Corr√≠a", "Corr√≠"], correct: 0 },
                            { q: "¬øQu√© palabra es un sin√≥nimo de 'bonito'?", options: ["Feo", "Hermoso", "Triste", "Oscuro"], correct: 1 },
                            { q: "¬øQu√© palabra lleva tilde?", options: ["Lapiz", "L√°piz", "Lap√≠z", "L√°p√≠z"], correct: 1 },
                            { q: "¬øQu√© palabra es un sustantivo abstracto?", options: ["Amor", "Silla", "Perro", "Casa"], correct: 0 },
                            { q: "¬øQu√© tiempo verbal es 'viv√≠amos'?", options: ["Presente", "Futuro", "Pret√©rito imperfecto", "Condicional"], correct: 2 },
                            { q: "¬øQu√© palabra lleva 'v'?", options: ["Baca", "Vaca", "Bajo", "Beso"], correct: 1 }

                                            ]
                                        },
                           "2¬™ Evaluaci√≥n": {
                           "Sintaxis y Vocabulario": [
                          { q: "¬øCu√°l es el predicado en la oraci√≥n: 'El ni√±o juega en el parque'?", options: ["El ni√±o", "juega en el parque", "parque", "juega"], correct: 1 },
                            { q: "¬øQu√© funci√≥n tiene 'el perro' en la oraci√≥n: 'El perro ladra fuerte'?", options: ["Sujeto", "Verbo", "Complemento", "Predicado"], correct: 0 },
                            { q: "¬øQu√© tipo de palabra es 'hermoso'?", options: ["Verbo", "Adjetivo", "Sustantivo", "Adverbio"], correct: 1 },
                            { q: "¬øCu√°l es un sin√≥nimo de 'r√°pido'?", options: ["Lento", "Ligero", "Despacio", "Tardo"], correct: 1 },
                            { q: "¬øCu√°l es un ant√≥nimo de 'f√°cil'?", options: ["Simple", "Complicado", "R√°pido", "Claro"], correct: 1 },
                            { q: "¬øQu√© palabra pertenece al campo sem√°ntico de 'frutas'?", options: ["Manzana", "Mesa", "Correr", "Rojo"], correct: 0 },
                            { q: "¬øQu√© palabra es un conector?", options: ["Mesa", "Sin embargo", "Bonito", "R√°pido"], correct: 1 },
                            { q: "¬øQu√© tipo de oraci√≥n es: 'Mar√≠a estudia y Pedro juega'?", options: ["Simple", "Compuesta", "Exclamativa", "Interrogativa"], correct: 1 },
                            { q: "¬øQu√© palabra es un pronombre?", options: ["Yo", "Casa", "Bonito", "R√°pido"], correct: 0 },
                            { q: "¬øQu√© palabra es un determinante?", options: ["El", "Correr", "Mesa", "Bonito"], correct: 0 },
                            { q: "¬øQu√© funci√≥n tiene 'en el parque' en la oraci√≥n: 'El ni√±o juega en el parque'?", options: ["Sujeto", "Complemento circunstancial", "Verbo", "Adjetivo"], correct: 1 },
                            { q: "¬øQu√© palabra es un verbo?", options: ["Correr", "R√°pido", "Mesa", "Bonito"], correct: 0 },
                            { q: "¬øQu√© palabra es un adverbio de lugar?", options: ["Aqu√≠", "R√°pido", "Bonito", "Nunca"], correct: 0 },
                            { q: "¬øQu√© palabra es un adverbio de tiempo?", options: ["Ayer", "R√°pido", "Bonito", "Mesa"], correct: 0 },
                            { q: "¬øQu√© palabra es un adverbio de modo?", options: ["Bien", "Aqu√≠", "Nunca", "Ayer"], correct: 0 },
                            { q: "¬øQu√© palabra es un adjetivo calificativo?", options: ["Grande", "El", "Yo", "Mesa"], correct: 0 },
                            { q: "¬øQu√© palabra es un sustantivo colectivo?", options: ["Manada", "Perro", "Casa", "Ni√±o"], correct: 0 },
                            { q: "¬øQu√© palabra es un sustantivo com√∫n?", options: ["Ni√±o", "Madrid", "Juan", "Espa√±a"], correct: 0 },
                            { q: "¬øQu√© palabra es un sustantivo propio?", options: ["Perro", "Casa", "Espa√±a", "Mesa"], correct: 2 },
                            { q: "¬øQu√© palabra es un verbo en presente?", options: ["Corre", "Corri√≥", "Correr√°", "Corr√≠a"], correct: 0 },
                            { q: "¬øQu√© palabra es un verbo en futuro?", options: ["Corre", "Corri√≥", "Correr√°", "Corr√≠a"], correct: 2 },
                            { q: "¬øQu√© palabra es un verbo en pret√©rito imperfecto?", options: ["Corr√≠a", "Corre", "Correr√°", "Corri√≥"], correct: 0 },
                            { q: "¬øQu√© palabra es un verbo en pret√©rito perfecto?", options: ["Corri√≥", "Corr√≠a", "Corre", "Correr√°"], correct: 0 },
                            { q: "¬øQu√© palabra es un verbo en infinitivo?", options: ["Correr", "Corre", "Corri√≥", "Corr√≠a"], correct: 0 },
                            { q: "¬øQu√© palabra es un complemento directo?", options: ["El libro", "Corre", "R√°pido", "Ayer"], correct: 0 },
                            { q: "¬øQu√© palabra es un complemento circunstancial de tiempo?", options: ["Ayer", "R√°pido", "Aqu√≠", "Bonito"], correct: 0 },
                            { q: "¬øQu√© palabra es un complemento circunstancial de lugar?", options: ["Aqu√≠", "Ayer", "Bien", "Nunca"], correct: 0 },
                            { q: "¬øQu√© palabra es un complemento circunstancial de modo?", options: ["Bien", "Aqu√≠", "Ayer", "Nunca"], correct: 0 },
                            { q: "¬øQu√© palabra es un conector de causa?", options: ["Porque", "Y", "Pero", "Aunque"], correct: 0 },
                            { q: "¬øQu√© palabra es un conector de oposici√≥n?", options: ["Aunque", "Porque", "Y", "Adem√°s"], correct: 0 },
                            { q: "¬øQu√© funci√≥n tiene 'el coche' en la oraci√≥n: 'El coche est√° aparcado'?", options: ["Sujeto", "Verbo", "Complemento", "Predicado"], correct: 0 },
                            { q: "¬øQu√© tipo de palabra es 'inteligente'?", options: ["Verbo", "Adjetivo", "Sustantivo", "Adverbio"], correct: 1 },
                            { q: "¬øCu√°l es un sin√≥nimo de 'triste'?", options: ["Contento", "Alegre", "Melanc√≥lico", "Feliz"], correct: 2 },
                            { q: "¬øCu√°l es un ant√≥nimo de 'r√°pido'?", options: ["Ligero", "Lento", "√Ågil", "Veloz"], correct: 1 },
                            { q: "¬øQu√© palabra pertenece al campo sem√°ntico de 'ropa'?", options: ["Camisa", "Mesa", "Correr", "Rojo"], correct: 0 },
                            { q: "¬øQu√© palabra es un conector de adici√≥n?", options: ["Adem√°s", "Pero", "Aunque", "Porque"], correct: 0 },
                            { q: "¬øQu√© tipo de oraci√≥n es: 'Pedro estudia y Ana lee'?", options: ["Simple", "Compuesta", "Exclamativa", "Imperativa"], correct: 1 },
                            { q: "¬øQu√© palabra es un pronombre personal?", options: ["Yo", "Casa", "Bonito", "R√°pido"], correct: 0 },
                            { q: "¬øQu√© palabra es un determinante?", options: ["La", "Correr", "Mesa", "Bonito"], correct: 0 },
                            { q: "¬øQu√© funci√≥n tiene 'con alegr√≠a' en la oraci√≥n: 'Mar√≠a canta con alegr√≠a'?", options: ["Sujeto", "Complemento circunstancial", "Verbo", "Adjetivo"], correct: 1 },
                            { q: "¬øQu√© palabra es un adverbio de cantidad?", options: ["Mucho", "Aqu√≠", "Nunca", "Bien"], correct: 0 },
                            { q: "¬øQu√© palabra es un adverbio de afirmaci√≥n?", options: ["S√≠", "No", "Nunca", "Jam√°s"], correct: 0 },
                            { q: "¬øQu√© palabra es un adjetivo calificativo?", options: ["Peque√±o", "El", "Yo", "Mesa"], correct: 0 },
                            { q: "¬øQu√© palabra es un sustantivo colectivo?", options: ["Ej√©rcito", "Soldado", "Casa", "Ni√±o"], correct: 0 },
                            { q: "¬øQu√© palabra es un sustantivo com√∫n?", options: ["Ni√±a", "Madrid", "Juan", "Espa√±a"], correct: 0 },
                            { q: "¬øQu√© palabra es un sustantivo propio?", options: ["Perro", "Casa", "Espa√±a", "Mesa"], correct: 2 },
                            { q: "¬øQu√© palabra es un verbo en presente?", options: ["Lee", "Ley√≥", "Leer√°", "Le√≠a"], correct: 0 },
                            { q: "¬øQu√© palabra es un verbo en futuro?", options: ["Lee", "Ley√≥", "Leer√°", "Le√≠a"], correct: 2 },
                            { q: "¬øQu√© palabra es un verbo en pret√©rito imperfecto?", options: ["Le√≠a", "Lee", "Leer√°", "Ley√≥"], correct: 0 },
                            { q: "¬øQu√© palabra es un complemento directo?", options: ["El libro", "Corre", "R√°pido", "Ayer"], correct: 0 },
                            { q: "¬øQu√© funci√≥n tiene 'la profesora' en la oraci√≥n: 'La profesora explica la lecci√≥n'?", options: ["Sujeto", "Verbo", "Complemento", "Predicado"], correct: 0 },
                            { q: "¬øQu√© tipo de palabra es 'divertido'?", options: ["Verbo", "Adjetivo", "Sustantivo", "Adverbio"], correct: 1 },
                            { q: "¬øCu√°l es un sin√≥nimo de 'grande'?", options: ["Peque√±o", "Enorme", "Chico", "Angosto"], correct: 1 },
                            { q: "¬øCu√°l es un ant√≥nimo de 'oscuro'?", options: ["Brillante", "Sombr√≠o", "Negro", "Tenebroso"], correct: 0 },
                            { q: "¬øQu√© palabra pertenece al campo sem√°ntico de 'veh√≠culos'?", options: ["Coche", "Mesa", "Camisa", "L√°piz"], correct: 0 },
                            { q: "¬øQu√© palabra es un conector de tiempo?", options: ["Despu√©s", "Pero", "Aunque", "Adem√°s"], correct: 0 },
                            { q: "¬øQu√© tipo de oraci√≥n es: '¬øQu√© hora es?'?", options: ["Simple", "Compuesta", "Interrogativa", "Exclamativa"], correct: 2 },
                            { q: "¬øQu√© palabra es un pronombre personal?", options: ["T√∫", "Casa", "Bonito", "R√°pido"], correct: 0 },
                            { q: "¬øQu√© palabra es un determinante?", options: ["Este", "Correr", "Mesa", "Bonito"], correct: 0 },
                            { q: "¬øQu√© funci√≥n tiene 'con cuidado' en la oraci√≥n: 'Pedro camina con cuidado'?", options: ["Sujeto", "Complemento circunstancial", "Verbo", "Adjetivo"], correct: 1 },
                            { q: "¬øQu√© palabra es un adverbio de negaci√≥n?", options: ["No", "S√≠", "Nunca", "Jam√°s"], correct: 0 },
                            { q: "¬øQu√© palabra es un adjetivo calificativo?", options: ["Alto", "El", "Yo", "Mesa"], correct: 0 },
                            { q: "¬øQu√© palabra es un sustantivo colectivo?", options: ["Reba√±o", "Oveja", "Casa", "Ni√±o"], correct: 0 },
                            { q: "¬øQu√© palabra es un sustantivo com√∫n?", options: ["Ni√±o", "Madrid", "Juan", "Espa√±a"], correct: 0 },
                            { q: "¬øQu√© palabra es un sustantivo propio?", options: ["Perro", "Casa", "Espa√±a", "Mesa"], correct: 2 },
                            { q: "¬øQu√© palabra es un verbo en presente?", options: ["Escribe", "Escribi√≥", "Escribir√°", "Escrib√≠a"], correct: 0 },
                            { q: "¬øQu√© palabra es un verbo en futuro?", options: ["Escribe", "Escribi√≥", "Escribir√°", "Escrib√≠a"], correct: 2 },
                            { q: "¬øQu√© palabra es un verbo en pret√©rito imperfecto?", options: ["Escrib√≠a", "Escribe", "Escribir√°", "Escribi√≥"], correct: 0 },
                            { q: "¬øQu√© palabra es un complemento directo?", options: ["La carta", "Corre", "R√°pido", "Ayer"], correct: 0 },
                            { q: "¬øQu√© palabra es un complemento circunstancial de lugar?", options: ["Aqu√≠", "Ayer", "Bien", "Nunca"], correct: 0 }

                                            ]
                                        },
                                        "3¬™ Evaluaci√≥n": {
                                            "Comprensi√≥n y Textos": [
                                                { q: "¬øQu√© tipo de texto cuenta una historia con personajes y acciones?", options: ["Descriptivo", "Narrativo", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto explica un tema con datos y hechos?", options: ["Narrativo", "Descriptivo", "Expositivo", "Dialogado"], correct: 2 },
                            { q: "¬øQu√© tipo de texto describe c√≥mo es algo o alguien?", options: ["Narrativo", "Descriptivo", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto intenta convencer al lector?", options: ["Narrativo", "Descriptivo", "Expositivo", "Argumentativo"], correct: 3 },
                            { q: "¬øQu√© elemento narrativo indica d√≥nde ocurre la historia?", options: ["Personaje", "Tiempo", "Lugar", "Acci√≥n"], correct: 2 },
                            { q: "¬øQu√© elemento narrativo indica cu√°ndo ocurre la historia?", options: ["Lugar", "Tiempo", "Personaje", "Narrador"], correct: 1 },
                            { q: "¬øQu√© elemento narrativo realiza las acciones?", options: ["Narrador", "Personaje", "Lugar", "Tiempo"], correct: 1 },
                            { q: "¬øQu√© tipo de narrador cuenta la historia desde fuera?", options: ["Narrador interno", "Narrador protagonista", "Narrador omnisciente", "Narrador testigo"], correct: 2 },
                            { q: "¬øQu√© tipo de narrador participa en la historia?", options: ["Narrador omnisciente", "Narrador externo", "Narrador testigo", "Narrador protagonista"], correct: 3 },
                            { q: "¬øQu√© parte de la narraci√≥n presenta el conflicto?", options: ["Introducci√≥n", "Nudo", "Desenlace", "Ep√≠logo"], correct: 1 },
                            { q: "¬øQu√© parte de la narraci√≥n resuelve el conflicto?", options: ["Introducci√≥n", "Nudo", "Desenlace", "Pr√≥logo"], correct: 2 },
                            { q: "¬øQu√© parte de la narraci√≥n presenta a los personajes y el lugar?", options: ["Introducci√≥n", "Nudo", "Desenlace", "Cl√≠max"], correct: 0 },
                            { q: "¬øQu√© figura literaria compara dos elementos usando 'como'?", options: ["Met√°fora", "S√≠mil", "Hip√©rbole", "Personificaci√≥n"], correct: 1 },
                            { q: "¬øQu√© figura literaria da cualidades humanas a objetos?", options: ["Met√°fora", "S√≠mil", "Personificaci√≥n", "Hip√©rbole"], correct: 2 },
                            { q: "¬øQu√© figura literaria exagera una idea?", options: ["Met√°fora", "S√≠mil", "Personificaci√≥n", "Hip√©rbole"], correct: 3 },
                            { q: "¬øQu√© figura literaria sustituye una idea por otra parecida?", options: ["Met√°fora", "S√≠mil", "Personificaci√≥n", "Hip√©rbole"], correct: 0 },
                            { q: "¬øQu√© intenci√≥n tiene un texto informativo?", options: ["Entretener", "Convencer", "Informar", "Describir"], correct: 2 },
                            { q: "¬øQu√© intenci√≥n tiene un cuento?", options: ["Informar", "Convencer", "Entretener", "Explicar"], correct: 2 },
                            { q: "¬øQu√© intenci√≥n tiene un anuncio publicitario?", options: ["Informar", "Convencer", "Entretener", "Narrar"], correct: 1 },
                            { q: "¬øQu√© tipo de texto es una receta de cocina?", options: ["Narrativo", "Expositivo", "Instructivo", "Argumentativo"], correct: 2 },
                            { q: "¬øQu√© tipo de texto es una noticia?", options: ["Narrativo", "Expositivo", "Descriptivo", "Informativo"], correct: 3 },
                            { q: "¬øQu√© tipo de texto es una carta personal?", options: ["Narrativo", "Descriptivo", "Dialogado", "Epistolar"], correct: 3 },
                            { q: "¬øQu√© tipo de texto es un di√°logo entre personajes?", options: ["Narrativo", "Descriptivo", "Dialogado", "Expositivo"], correct: 2 },
                            { q: "¬øQu√© tipo de texto es una biograf√≠a?", options: ["Narrativo", "Descriptivo", "Expositivo", "Argumentativo"], correct: 0 },
                            { q: "¬øQu√© tipo de texto es un poema?", options: ["Narrativo", "L√≠rico", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© parte de la narraci√≥n suele tener el cl√≠max?", options: ["Introducci√≥n", "Nudo", "Desenlace", "Ep√≠logo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto tiene versos y rima?", options: ["Narrativo", "L√≠rico", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto es un cuento tradicional?", options: ["Narrativo", "Expositivo", "L√≠rico", "Argumentativo"], correct: 0 },
                            { q: "¬øQu√© tipo de texto es una entrevista?", options: ["Narrativo", "Dialogado", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto es una descripci√≥n de paisaje?", options: ["Narrativo", "Descriptivo", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto tiene como objetivo ense√±ar algo?", options: ["Narrativo", "Expositivo", "L√≠rico", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto tiene como objetivo convencer?", options: ["Narrativo", "Descriptivo", "Argumentativo", "Expositivo"], correct: 2 },
                            { q: "¬øQu√© tipo de texto tiene como objetivo emocionar?", options: ["Narrativo", "L√≠rico", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© parte de la narraci√≥n presenta el conflicto?", options: ["Introducci√≥n", "Nudo", "Desenlace", "Ep√≠logo"], correct: 1 },
                            { q: "¬øQu√© parte de la narraci√≥n resuelve el conflicto?", options: ["Introducci√≥n", "Nudo", "Desenlace", "Pr√≥logo"], correct: 2 },
                            { q: "¬øQu√© figura literaria compara sin usar 'como'?", options: ["Met√°fora", "S√≠mil", "Hip√©rbole", "Personificaci√≥n"], correct: 0 },
                            { q: "¬øQu√© figura literaria exagera una cualidad?", options: ["Met√°fora", "S√≠mil", "Hip√©rbole", "Personificaci√≥n"], correct: 2 },
                            { q: "¬øQu√© figura literaria da vida a objetos?", options: ["Met√°fora", "S√≠mil", "Hip√©rbole", "Personificaci√≥n"], correct: 3 },
                            { q: "¬øQu√© tipo de texto es una noticia?", options: ["Narrativo", "Informativo", "L√≠rico", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto es una entrevista?", options: ["Narrativo", "Dialogado", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto es una descripci√≥n de persona?", options: ["Narrativo", "Descriptivo", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto es una f√°bula?", options: ["Narrativo", "L√≠rico", "Expositivo", "Argumentativo"], correct: 0 },
                            { q: "¬øQu√© tipo de texto tiene como objetivo ense√±ar algo?", options: ["Narrativo", "Expositivo", "L√≠rico", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto tiene como objetivo convencer?", options: ["Narrativo", "Descriptivo", "Argumentativo", "Expositivo"], correct: 2 },
                            { q: "¬øQu√© tipo de texto tiene como objetivo emocionar?", options: ["Narrativo", "L√≠rico", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© parte de la narraci√≥n presenta el conflicto?", options: ["Introducci√≥n", "Nudo", "Desenlace", "Ep√≠logo"], correct: 1 },
                            { q: "¬øQu√© parte de la narraci√≥n resuelve el conflicto?", options: ["Introducci√≥n", "Nudo", "Desenlace", "Pr√≥logo"], correct: 2 },
                            { q: "¬øQu√© figura literaria compara sin usar 'como'?", options: ["Met√°fora", "S√≠mil", "Hip√©rbole", "Personificaci√≥n"], correct: 0 },
                            { q: "¬øQu√© figura literaria exagera una cualidad?", options: ["Met√°fora", "S√≠mil", "Hip√©rbole", "Personificaci√≥n"], correct: 2 },
                            { q: "¬øQu√© figura literaria da vida a objetos?", options: ["Met√°fora", "S√≠mil", "Hip√©rbole", "Personificaci√≥n"], correct: 3 },
                            { q: "¬øQu√© tipo de texto es una noticia?", options: ["Narrativo", "Informativo", "L√≠rico", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto es una entrevista?", options: ["Narrativo", "Dialogado", "Expositivo", "Argumentativo"], correct: 1 },
                            { q: "¬øQu√© tipo de texto es una descripci√≥n de persona?", options: ["Narrativo", "Descriptivo", "Expositivo", "Argumentativo"], correct: 1 },
]
            }
        }
    
},
'Sociales': {
        '1¬∫ESO': {
            '1¬∫ Evaluaci√≥n': {
                'Geograf√≠a, la Tierra, el relieve, el clima, mapas, civilizaciones antiguas': [ 
                   { q: "¬øQu√© planeta es el tercero desde el Sol?", options: ["Mercurio", "Venus", "Tierra", "Marte"], correct: 2 },
  { q: "¬øC√≥mo se llama la capa externa de la Tierra?", options: ["N√∫cleo", "Manto", "Corteza", "Atm√≥sfera"], correct: 2 },
  { q: "¬øQu√© nombre recibe la capa de aire que rodea la Tierra?", options: ["Hidrosfera", "Litosfera", "Atm√≥sfera", "Bi√≥sfera"], correct: 2 },
  { q: "¬øQu√© continente est√° al norte de √Åfrica?", options: ["Asia", "Europa", "Am√©rica", "Ocean√≠a"], correct: 1 },
  { q: "¬øC√≥mo se llama la ciencia que estudia los mapas?", options: ["Geograf√≠a", "Cartograf√≠a", "Topograf√≠a", "Meteorolog√≠a"], correct: 1 },
  { q: "¬øQu√© instrumento mide la temperatura?", options: ["Bar√≥metro", "Term√≥metro", "Anem√≥metro", "Pluvi√≥metro"], correct: 1 },
  { q: "¬øQu√© palabra usamos para hablar del estado del aire en un momento?", options: ["Clima", "Tiempo", "Estaci√≥n", "Latitud"], correct: 1 },
  { q: "¬øC√≥mo se llama el movimiento de la Tierra alrededor del Sol?", options: ["Rotaci√≥n", "Traslaci√≥n", "Giro", "Revoluci√≥n lunar"], correct: 1 },
  { q: "¬øQu√© l√≠nea divide la Tierra en hemisferio norte y sur?", options: ["Meridiano de Greenwich", "Ecuador", "Tr√≥pico de C√°ncer", "Paralelo 30"], correct: 1 },
  { q: "¬øC√≥mo se llama el punto donde nace un r√≠o?", options: ["Desembocadura", "Curso", "Nacedero", "Cauce"], correct: 2 },
  { q: "¬øD√≥nde desemboca un r√≠o?", options: ["En una monta√±a", "En otro r√≠o o en el mar", "En una isla", "En un glaciar"], correct: 1 },
  { q: "¬øQu√© tipo de mapa muestra pa√≠ses y fronteras?", options: ["F√≠sico", "Pol√≠tico", "Clim√°tico", "Hist√≥rico"], correct: 1 },
  { q: "¬øQu√© tipo de mapa ense√±a monta√±as, r√≠os y mares?", options: ["Pol√≠tico", "F√≠sico", "Econ√≥mico", "Tem√°tico"], correct: 1 },
  { q: "¬øC√≥mo se llama una gran elevaci√≥n del terreno?", options: ["Monta√±a", "Llanura", "Valle", "Meseta"], correct: 0 },
  { q: "¬øQu√© es una cordillera?", options: ["Una fila de monta√±as", "Un valle ancho", "Un r√≠o caudaloso", "Una isla"], correct: 0 },
  { q: "¬øQu√© continente est√° al este de Europa?", options: ["Ocean√≠a", "Asia", "√Åfrica", "Am√©rica"], correct: 1 },
  { q: "¬øQu√© civilizaci√≥n antigua se desarroll√≥ junto al r√≠o Nilo?", options: ["Mesopotamia", "Egipto", "Grecia", "Roma"], correct: 1 },
  { q: "¬øQu√© civilizaci√≥n antigua invent√≥ la escritura cuneiforme?", options: ["Egipto", "Grecia", "Mesopotamia", "Roma"], correct: 2 },
  { q: "¬øC√≥mo se llama la forma de gobierno donde el rey tiene todo el poder?", options: ["Democracia", "Rep√∫blica", "Monarqu√≠a absoluta", "Oligarqu√≠a"], correct: 2 },
  { q: "¬øQu√© palabra describe la expansi√≥n de la cultura romana por Europa?", options: ["Feudalismo", "Romanizaci√≥n", "Industrializaci√≥n", "Globalizaci√≥n"], correct: 1 },
  { q: "¬øQu√© tipo de clima tiene Espa√±a en general?", options: ["Polar", "Tropical", "Templado", "Des√©rtico"], correct: 2 },
  { q: "¬øQu√© instrumento mide la cantidad de lluvia?", options: ["Term√≥metro", "Pluvi√≥metro", "Bar√≥metro", "Higr√≥metro"], correct: 1 },
  { q: "¬øC√≥mo se llama la capa de la Tierra formada por agua?", options: ["Litosfera", "Hidrosfera", "Atm√≥sfera", "Bi√≥sfera"], correct: 1 },
  { q: "¬øQu√© es un delta?", options: ["Una monta√±a", "Una isla", "Una zona donde un r√≠o forma brazos antes del mar", "Una cordillera"], correct: 2 },
  { q: "¬øQu√© nombre recibe el conjunto de condiciones del aire durante muchos a√±os?", options: ["Tiempo", "Clima", "Latitud", "Altitud"], correct: 1 },
{ q: "¬øQu√© l√≠nea imaginaria une los polos norte y sur?", options: ["Ecuador", "Meridiano de Greenwich", "Tr√≥pico de C√°ncer", "C√≠rculo Polar"], correct: 1 },
  { q: "¬øQu√© r√≠o pasa por Egipto?", options: ["Tigris", "Nilo", "√âufrates", "Danubio"], correct: 1 },
  { q: "¬øCu√°l es el continente m√°s grande?", options: ["Asia", "Europa", "√Åfrica", "Am√©rica"], correct: 0 },
  { q: "¬øQu√© oc√©ano est√° al oeste de Europa y √Åfrica?", options: ["Atl√°ntico", "Pac√≠fico", "√çndico", "√Årtico"], correct: 0 },
  { q: "¬øQu√© es una pen√≠nsula?", options: ["Tierra rodeada de agua por todos lados", "Tierra rodeada de agua por tres lados", "Elevaci√≥n de terreno", "Depresi√≥n del terreno"], correct: 1 },
  { q: "¬øQu√© civilizaci√≥n antigua estaba entre los r√≠os Tigris y √âufrates?", options: ["Egipto", "Mesopotamia", "Roma", "Grecia"], correct: 1 },
  { q: "¬øQu√© tipo de escritura usaban los egipcios?", options: ["Cuneiforme", "Jerogl√≠fica", "Alfabeto latino", "Runa"], correct: 1 },
  { q: "¬øQu√© r√≠o pasa por Roma?", options: ["T√≠ber", "Nilo", "Danubio", "Rin"], correct: 0 },
  { q: "¬øQu√© ciudad fue centro de la Grecia cl√°sica?", options: ["Atenas", "Roma", "Cartago", "Esparta"], correct: 0 },
  { q: "¬øQu√© persona gobernaba en una monarqu√≠a?", options: ["Rey", "Senador", "Presidente", "Alcalde"], correct: 0 },
  { q: "¬øQu√© grupo social ten√≠a la mayor√≠a de los esclavos en Roma?", options: ["Campesinos libres", "Nobles", "Prisioneros de guerra", "Comerciantes"], correct: 2 },
  { q: "¬øQu√© estructura romana permit√≠a transportar agua a la ciudad?", options: ["Acueducto", "Puente", "Templo", "Muralla"], correct: 0 },
  { q: "¬øQu√© es una meseta?", options: ["Terreno plano elevado", "Valle estrecho", "Monta√±a alta", "Depresi√≥n en el mar"], correct: 0 },
  { q: "¬øQu√© continente est√° al sur de Europa?", options: ["Asia", "√Åfrica", "Am√©rica", "Ocean√≠a"], correct: 1 },
  { q: "¬øQu√© instrumento mide la presi√≥n del aire?", options: ["Bar√≥metro", "Higr√≥metro", "Term√≥metro", "Anem√≥metro"], correct: 0 },
  { q: "¬øQu√© r√≠o pasa por Londres?", options: ["Seine", "T√°mesis", "Danubio", "Rin"], correct: 1 },
  { q: "¬øQu√© desierto est√° en el norte de √Åfrica?", options: ["Sahara", "Kalahari", "Gobi", "Atacama"], correct: 0 },
  { q: "¬øQu√© parte de la Tierra es l√≠quida y cubre la mayor superficie?", options: ["Hidrosfera", "Litosfera", "Atm√≥sfera", "Bi√≥sfera"], correct: 0 },
  { q: "¬øQu√© instrumento mide la velocidad del viento?", options: ["Anem√≥metro", "Bar√≥metro", "Pluvi√≥metro", "Term√≥metro"], correct: 0 },
  { q: "¬øQu√© monta√±as separan Espa√±a de Francia?", options: ["Pirineos", "Alpes", "C√°rpatos", "Apeninos"], correct: 0 },
  { q: "¬øQu√© civilizaci√≥n construy√≥ el Coliseo?", options: ["Grecia", "Roma", "Egipto", "Mesopotamia"], correct: 1 },
  { q: "¬øQu√© lengua se hablaba en la Antigua Roma?", options: ["Lat√≠n", "Griego", "Egipcio", "Hebreo"], correct: 0 },
  { q: "¬øQu√© instrumento mide la humedad del aire?", options: ["Higr√≥metro", "Bar√≥metro", "Pluvi√≥metro", "Term√≥metro"], correct: 0 },
  { q: "¬øQu√© oc√©ano ba√±a la costa este de Estados Unidos?", options: ["Pac√≠fico", "Atl√°ntico", "√çndico", "√Årtico"], correct: 1 },
  { q: "¬øQu√© fen√≥meno geogr√°fico es un valle fluvial inundado por el mar?", options: ["Fiordo", "Delta", "Meseta", "Llanura"], correct: 0 },
  { q: "¬øQu√© tipo de mapa muestra monta√±as, r√≠os y mares?", options: ["Pol√≠tico", "F√≠sico", "Tem√°tico", "Hist√≥rico"], correct: 1 },
{ q: "¬øQu√© continente tiene m√°s pa√≠ses?", options: ["√Åfrica", "Europa", "Asia", "Am√©rica"], correct: 0 },
  { q: "¬øQu√© oc√©ano est√° al este de √Åfrica?", options: ["Atl√°ntico", "Pac√≠fico", "√çndico", "√Årtico"], correct: 2 },
  { q: "¬øQu√© monta√±a es la m√°s alta del mundo?", options: ["Kilimanjaro", "Everest", "Alpes", "Andes"], correct: 1 },
  { q: "¬øQu√© civilizaci√≥n construy√≥ las pir√°mides de Egipto?", options: ["Mesopotamia", "Egipto", "Grecia", "Roma"], correct: 1 },
  { q: "¬øQu√© r√≠o pasa por Mesopotamia?", options: ["Nilo", "Tigris", "Danubio", "Rin"], correct: 1 },
  { q: "¬øQu√© ciudad era el centro del Imperio Romano?", options: ["Atenas", "Roma", "Cartago", "Jerusal√©n"], correct: 1 },
  { q: "¬øQu√© civilizaci√≥n usaba escritura cuneiforme?", options: ["Egipto", "Mesopotamia", "Grecia", "Roma"], correct: 1 },
  { q: "¬øQu√© continente est√° al norte de Am√©rica?", options: ["Europa", "Asia", "√Årtico", "Ocean√≠a"], correct: 2 },
  { q: "¬øQu√© instrumento mide la direcci√≥n del viento?", options: ["Anem√≥metro", "Veleta", "Bar√≥metro", "Higr√≥metro"], correct: 1 },
  { q: "¬øQu√© l√≠nea divide la Tierra en hemisferio norte y sur?", options: ["Ecuador", "Meridiano de Greenwich", "Tr√≥pico de Capricornio", "C√≠rculo Polar"], correct: 0 },
  { q: "¬øQu√© es una pen√≠nsula?", options: ["Tierra rodeada de agua por todos lados", "Tierra rodeada de agua por tres lados", "Monta√±a aislada", "Valle"], correct: 1 },
  { q: "¬øQu√© civilizaci√≥n invent√≥ el alfabeto griego?", options: ["Egipto", "Roma", "Grecia", "Mesopotamia"], correct: 2 },
  { q: "¬øQu√© ciudad griega era conocida por su democracia?", options: ["Atenas", "Esparta", "Roma", "Cartago"], correct: 0 },
  { q: "¬øQu√© monte es sagrado para los griegos?", options: ["Monte Olimpo", "Monte Kilimanjaro", "Mont Blanc", "Monte Fuji"], correct: 0 },
  { q: "¬øQu√© r√≠o pasa por Egipto?", options: ["Nilo", "T√≠ber", "Danubio", "Rin"], correct: 0 },
  { q: "¬øQu√© oc√©ano ba√±a la costa oeste de Am√©rica?", options: ["Atl√°ntico", "Pac√≠fico", "√çndico", "√Årtico"], correct: 1 },
  { q: "¬øQu√© estructura romana se usaba para transportar agua?", options: ["Acueducto", "Puente", "Templo", "Muralla"], correct: 0 },
  { q: "¬øQu√© grupo social ten√≠a todos los derechos en Roma?", options: ["Patricios", "Plebe", "Esclavos", "Campesinos"], correct: 0 },
  { q: "¬øQu√© mar est√° al sur de Europa?", options: ["Mar Adri√°tico", "Mar Mediterr√°neo", "Mar Negro", "Mar del Norte"], correct: 1 },
  { q: "¬øQu√© civilizaci√≥n construy√≥ zigurats?", options: ["Mesopotamia", "Egipto", "Grecia", "Roma"], correct: 0 },
  { q: "¬øQu√© instrumento mide la presi√≥n del aire?", options: ["Bar√≥metro", "Higr√≥metro", "Term√≥metro", "Pluvi√≥metro"], correct: 0 },
  { q: "¬øQu√© civilizaci√≥n ten√≠a dioses como Zeus y Atenea?", options: ["Egipto", "Mesopotamia", "Grecia", "Roma"], correct: 2 },
  { q: "¬øQu√© continente est√° al sur de Europa?", options: ["Asia", "√Åfrica", "Am√©rica", "Ocean√≠a"], correct: 1 },
  { q: "¬øQu√© es una meseta?", options: ["Terreno plano elevado", "Valle", "Monta√±a", "Depresi√≥n"], correct: 0 },
  { q: "¬øQu√© continente tiene la mayor diversidad de animales?", options: ["√Åfrica", "Asia", "Europa", "Ocean√≠a"], correct: 0 }

]
                
                
            },
            '2¬∫ Evaluaci√≥n': {
                'Edad Media, feudalismo, religiones, ciudades, econom√≠a y sociedad medieval': [
                    { q: "¬øEn qu√© siglo comenz√≥ la Edad Media?", options: ["Siglo V", "Siglo X", "Siglo XII", "Siglo XV"], correct: 0 },
  { q: "¬øQu√© hecho marc√≥ el inicio de la Edad Media?", options: ["Descubrimiento de Am√©rica", "Ca√≠da del Imperio Romano de Occidente", "Invenci√≥n de la imprenta", "Inicio del Renacimiento"], correct: 1 },
  { q: "¬øQu√© grupo social dominaba las tierras en el feudalismo?", options: ["Campesinos", "Burgueses", "Nobles", "Esclavos"], correct: 2 },
  { q: "¬øQu√© clase social trabajaba las tierras de los se√±ores?", options: ["Caballeros", "Campesinos", "Monjes", "Mercaderes"], correct: 1 },
  { q: "¬øQu√© instituci√≥n tuvo gran poder en la Edad Media?", options: ["La Iglesia", "Los gremios", "Las universidades", "Los comerciantes"], correct: 0 },
  { q: "¬øC√≥mo se llama el sistema econ√≥mico y social de la Edad Media?", options: ["Capitalismo", "Feudalismo", "Industrializaci√≥n", "Mercantilismo"], correct: 1 },
  { q: "¬øC√≥mo se llamaban los territorios donde viv√≠an los se√±ores y los campesinos?", options: ["Reinos", "Feudos", "Municipios", "Provincias"], correct: 1 },
  { q: "¬øQu√© era un castillo en la Edad Media?", options: ["Una casa de campesinos", "La residencia de los nobles", "Un mercado", "Un monasterio"], correct: 1 },
  { q: "¬øQu√© grupo social se dedicaba a la oraci√≥n y viv√≠a en monasterios?", options: ["Nobles", "Mercaderes", "Monjes", "Caballeros"], correct: 2 },
  { q: "¬øQu√© religi√≥n practicaban los musulmanes?", options: ["Cristianismo", "Juda√≠smo", "Islam", "Budismo"], correct: 2 },
  { q: "¬øQu√© edificio religioso musulm√°n es t√≠pico?", options: ["Iglesia", "Sinagoga", "Mezquita", "Templo"], correct: 2 },
  { q: "¬øC√≥mo se llamaba la capital del Califato en Al-√Åndalus?", options: ["Granada", "Toledo", "C√≥rdoba", "Madrid"], correct: 2 },
  { q: "¬øQu√© reinos cristianos se formaron en el norte de la Pen√≠nsula tras la invasi√≥n musulmana?", options: ["Navarra, Le√≥n y Castilla", "Roma y Atenas", "Francia y Portugal", "Toledo y Granada"], correct: 0 },
  { q: "¬øC√≥mo se llamaba el proceso por el que los reinos cristianos recuperaron territorios musulmanes?", options: ["Reconquista", "Colonizaci√≥n", "Romanizaci√≥n", "Exploraci√≥n"], correct: 0 },
  { q: "¬øQu√© nombre recib√≠a el pacto entre un noble y su vasallo?", options: ["Tratado", "Juramento de fidelidad", "Ley feudal", "Alianza militar"], correct: 1 },
  { q: "¬øQu√© grupo social surgi√≥ en las ciudades por el comercio?", options: ["Campesinos", "Burgueses", "Monjes", "Caballeros"], correct: 1 },
  { q: "¬øQu√© se celebraba en las ferias medievales?", options: ["Batallas", "Intercambio de productos", "Ritos religiosos", "Competiciones deportivas"], correct: 1 },
  { q: "¬øQu√© edificio era el centro de la vida religiosa cristiana?", options: ["Castillo", "Catedral", "Mercado", "Ayuntamiento"], correct: 1 },
  { q: "¬øC√≥mo se llamaban los trabajadores especializados agrupados por oficios?", options: ["Gremios", "Ej√©rcitos", "Campesinos", "Monasterios"], correct: 0 },
  { q: "¬øQu√© material se usaba mucho en el arte rom√°nico?", options: ["Vidrio", "M√°rmol", "Piedra", "Madera"], correct: 2 },
  { q: "¬øQu√© caracter√≠stica tiene el arte g√≥tico?", options: ["Muros gruesos y poca luz", "Ventanas grandes y arcos apuntados", "Pinturas rupestres", "Columnas egipcias"], correct: 1 },
  { q: "¬øQu√© lengua hablaban los musulmanes en Al-√Åndalus?", options: ["Lat√≠n", "√Årabe", "Hebreo", "Griego"], correct: 1 },
  { q: "¬øQu√© nombre recibe el conjunto de leyes o normas que regulaban la vida en un feudo?", options: ["C√≥digo civil", "Derecho feudal", "Fuero", "Pacto comercial"], correct: 2 },
  { q: "¬øQu√© grupo social se encargaba de proteger a los nobles y campesinos?", options: ["Caballeros", "Monjes", "Mercaderes", "Burgueses"], correct: 0 },
  { q: "¬øQu√© eran las Cruzadas?", options: ["Guerras entre reinos cristianos", "Guerras para recuperar Tierra Santa", "Ferias comerciales", "Exploraciones mar√≠timas"], correct: 1 },
{ q: "¬øQu√© periodo hist√≥rico viene despu√©s de la Antig√ºedad?", options: ["Edad Moderna", "Edad Contempor√°nea", "Edad Media", "Prehistoria"], correct: 2 },
  { q: "¬øQu√© grupo social viv√≠a en los castillos?", options: ["Nobles", "Campesinos", "Monjes", "Burgueses"], correct: 0 },
  { q: "¬øQui√©n trabajaba la tierra para los se√±ores?", options: ["Campesinos", "Caballeros", "Mercaderes", "Monjes"], correct: 0 },
  { q: "¬øQu√© instituci√≥n ten√≠a mucho poder en la Edad Media?", options: ["Iglesia", "Mercado", "Universidad", "Gremio"], correct: 0 },
  { q: "¬øQu√© nombre recibe la organizaci√≥n econ√≥mica y social medieval?", options: ["Capitalismo", "Feudalismo", "Monarqu√≠a", "Rep√∫blica"], correct: 1 },
  { q: "¬øC√≥mo se llamaban las tierras de un se√±or feudal?", options: ["Reinos", "Feudos", "Condados", "Villas"], correct: 1 },
  { q: "¬øQu√© grupo social rezaba en los monasterios?", options: ["Monjes", "Nobles", "Campesinos", "Caballeros"], correct: 0 },
  { q: "¬øQu√© grupo social defend√≠a los feudos y nobles?", options: ["Caballeros", "Campesinos", "Burgueses", "Monjes"], correct: 0 },
  { q: "¬øQu√© religi√≥n predominaba en Europa medieval?", options: ["Cristianismo", "Islam", "Juda√≠smo", "Budismo"], correct: 0 },
  { q: "¬øQu√© edificio era centro de la vida religiosa cristiana?", options: ["Catedral", "Mercado", "Castillo", "Ayuntamiento"], correct: 0 },
  { q: "¬øQu√© eran los gremios?", options: ["Agrupaci√≥n de artesanos", "Ej√©rcitos", "Monasterios", "Feudos"], correct: 0 },
  { q: "¬øQu√© grupo social empez√≥ a enriquecerse con el comercio?", options: ["Burgueses", "Nobles", "Monjes", "Campesinos"], correct: 0 },
  { q: "¬øQu√© era la feria medieval?", options: ["Un mercado temporal", "Un castillo", "Un monasterio", "Una ciudad"], correct: 0 },
  { q: "¬øQu√© civilizaci√≥n invadi√≥ la Pen√≠nsula antes de la Edad Media?", options: ["Romanos", "Musulmanes", "Griegos", "Vikingos"], correct: 0 },
  { q: "¬øQu√© nombre recibe la recuperaci√≥n de territorios por los reinos cristianos?", options: ["Reconquista", "Colonizaci√≥n", "Romanizaci√≥n", "Exploraci√≥n"], correct: 0 },
  { q: "¬øQu√© castillo serv√≠a de protecci√≥n y residencia del noble?", options: ["Feudo", "Castillo", "Iglesia", "Ciudad"], correct: 1 },
  { q: "¬øQu√© estilo art√≠stico tiene arcos apuntados y grandes ventanas?", options: ["Rom√°nico", "G√≥tico", "Renacentista", "Barroco"], correct: 1 },
  { q: "¬øQu√© estilo art√≠stico tiene muros gruesos y poca luz?", options: ["Rom√°nico", "G√≥tico", "Renacentista", "Barroco"], correct: 0 },
  { q: "¬øQu√© grupo social viv√≠a en aldeas y trabajaba la tierra?", options: ["Campesinos", "Caballeros", "Burgueses", "Monjes"], correct: 0 },
  { q: "¬øQu√© idioma hablaban los musulmanes en Al-√Åndalus?", options: ["√Årabe", "Lat√≠n", "Hebreo", "Griego"], correct: 0 },
  { q: "¬øQu√© se usaba como moneda en los mercados medievales?", options: ["Oro y plata", "D√≥lares", "Euros", "Dinero de papel"], correct: 0 },
  { q: "¬øQu√© funci√≥n ten√≠a el monasterio?", options: ["Oraci√≥n y copia de libros", "Comercio", "Defensa militar", "Gobierno"], correct: 0 },
  { q: "¬øQu√© grupo social estaba formado por mercaderes y artesanos en las ciudades?", options: ["Burgueses", "Nobles", "Monjes", "Campesinos"], correct: 0 },
  { q: "¬øQu√© instrumento musical era com√∫n en la Edad Media?", options: ["La√∫d", "Piano", "Guitarra el√©ctrica", "Viol√≠n moderno"], correct: 0 },
  { q: "¬øQu√© construcci√≥n proteg√≠a a los habitantes en tiempos de guerra?", options: ["Muralla", "Catedral", "Monasterio", "Iglesia"], correct: 0 },
{ q: "¬øQu√© periodo hist√≥rico viene despu√©s de la Antig√ºedad?", options: ["Edad Moderna", "Edad Media", "Edad Contempor√°nea", "Prehistoria"], correct: 1 },
  { q: "¬øQu√© grupo social defend√≠a el feudo?", options: ["Caballeros", "Campesinos", "Monjes", "Burgueses"], correct: 0 },
  { q: "¬øQui√©n cultivaba la tierra para los se√±ores?", options: ["Campesinos", "Caballeros", "Burgueses", "Monjes"], correct: 0 },
  { q: "¬øQu√© instituci√≥n ten√≠a gran poder en la Edad Media?", options: ["Iglesia", "Mercado", "Universidad", "Gremio"], correct: 0 },
  { q: "¬øC√≥mo se llama el sistema social de la Edad Media?", options: ["Capitalismo", "Feudalismo", "Monarqu√≠a", "Rep√∫blica"], correct: 1 },
  { q: "¬øC√≥mo se llama la tierra de un se√±or feudal?", options: ["Reino", "Feudo", "Condado", "Villa"], correct: 1 },
  { q: "¬øQui√©n viv√≠a en los monasterios?", options: ["Monjes", "Nobles", "Campesinos", "Caballeros"], correct: 0 },
  { q: "¬øQui√©n proteg√≠a a los nobles y al feudo?", options: ["Caballeros", "Campesinos", "Burgueses", "Monjes"], correct: 0 },
  { q: "¬øQu√© religi√≥n predominaba en Europa medieval?", options: ["Cristianismo", "Islam", "Juda√≠smo", "Budismo"], correct: 0 },
  { q: "¬øQu√© edificio era centro religioso?", options: ["Catedral", "Mercado", "Castillo", "Ayuntamiento"], correct: 0 },
  { q: "¬øQu√© eran los gremios?", options: ["Agrupaci√≥n de artesanos", "Ej√©rcitos", "Monasterios", "Feudos"], correct: 0 },
  { q: "¬øQu√© grupo social se enriqueci√≥ con el comercio?", options: ["Burgueses", "Nobles", "Monjes", "Campesinos"], correct: 0 },
  { q: "¬øQu√© era la feria medieval?", options: ["Mercado temporal", "Castillo", "Monasterio", "Ciudad"], correct: 0 },
  { q: "¬øQu√© civilizaci√≥n ocup√≥ la Pen√≠nsula antes de la Edad Media?", options: ["Romanos", "Musulmanes", "Griegos", "Vikingos"], correct: 0 },
  { q: "¬øC√≥mo se llama la recuperaci√≥n de territorios por los cristianos?", options: ["Reconquista", "Colonizaci√≥n", "Romanizaci√≥n", "Exploraci√≥n"], correct: 0 },
  { q: "¬øQu√© era un castillo medieval?", options: ["Residencia y defensa del noble", "Iglesia", "Mercado", "Monasterio"], correct: 0 },
  { q: "¬øQu√© estilo art√≠stico tiene arcos apuntados?", options: ["Rom√°nico", "G√≥tico", "Renacentista", "Barroco"], correct: 1 },
  { q: "¬øQu√© estilo tiene muros gruesos y poca luz?", options: ["Rom√°nico", "G√≥tico", "Renacentista", "Barroco"], correct: 0 },
  { q: "¬øQui√©n viv√≠a en aldeas y trabajaba la tierra?", options: ["Campesinos", "Caballeros", "Burgueses", "Monjes"], correct: 0 },
  { q: "¬øQu√© idioma hablaban los musulmanes en Al-√Åndalus?", options: ["√Årabe", "Lat√≠n", "Hebreo", "Griego"], correct: 0 },
  { q: "¬øQu√© se usaba como moneda?", options: ["Oro y plata", "D√≥lares", "Euros", "Dinero de papel"], correct: 0 },
  { q: "¬øPara qu√© serv√≠a un monasterio?", options: ["Oraci√≥n y copia de libros", "Comercio", "Defensa", "Gobierno"], correct: 0 },
  { q: "¬øQu√© grupo social formaban los artesanos y comerciantes?", options: ["Burgueses", "Nobles", "Monjes", "Campesinos"], correct: 0 },
  { q: "¬øQu√© instrumento musical era t√≠pico?", options: ["La√∫d", "Piano", "Guitarra el√©ctrica", "Viol√≠n moderno"], correct: 0 },
  { q: "¬øQu√© proteg√≠a a los habitantes en tiempos de guerra?", options: ["Muralla", "Catedral", "Monasterio", "Iglesia"], correct: 0 }

                ], 
                },
                 '3¬∫ Evaluaci√≥n': {
                'Renacimiento, Edad Moderna, descubrimientos, monarqu√≠as, sociedad moderna, comercio y cultura': [
                    { q: "¬øQu√© periodo hist√≥rico viene despu√©s de la Edad Media?", options: ["Edad Antigua", "Edad Moderna", "Edad Contempor√°nea", "Prehistoria"], correct: 1 },
  { q: "¬øQu√© se desarroll√≥ durante el Renacimiento?", options: ["Feudalismo", "Ciencia, arte y humanismo", "Guerras mundiales", "Colonizaci√≥n europea"], correct: 1 },
  { q: "¬øQu√© pa√≠s lider√≥ los grandes viajes de exploraci√≥n del siglo XV?", options: ["Espa√±a", "Francia", "Portugal", "Italia"], correct: 2 },
  { q: "¬øQui√©n descubri√≥ Am√©rica en 1492?", options: ["Crist√≥bal Col√≥n", "Magallanes", "Vasco da Gama", "Hern√°n Cort√©s"], correct: 0 },
  { q: "¬øQu√© palabra describe la expansi√≥n europea hacia Am√©rica, Asia y √Åfrica?", options: ["Colonizaci√≥n", "Feudalismo", "Romanizaci√≥n", "Renacimiento"], correct: 0 },
  { q: "¬øQu√© monarqu√≠a ten√≠a mucho poder absoluto en la Edad Moderna?", options: ["Monarqu√≠a parlamentaria", "Monarqu√≠a absoluta", "Rep√∫blica", "Oligarqu√≠a"], correct: 1 },
  { q: "¬øQu√© producto tra√≠an de Am√©rica que cambi√≥ la alimentaci√≥n europea?", options: ["Tomate, ma√≠z y patata", "Aceite de oliva", "Trigo y cebada", "Especias de Asia"], correct: 0 },
  { q: "¬øQu√© invento facilit√≥ la difusi√≥n de libros en el Renacimiento?", options: ["Imprenta", "Tel√©grafo", "Tel√©fono", "Reloj"], correct: 0 },
  { q: "¬øQu√© tipo de arte se desarroll√≥ en el Renacimiento?", options: ["G√≥tico", "Rom√°nico", "Humanista", "Rupestre"], correct: 2 },
  { q: "¬øQu√© ciudad italiana fue un centro importante del Renacimiento?", options: ["Roma", "Florencia", "Venecia", "Mil√°n"], correct: 1 },
  { q: "¬øQu√© instituci√≥n religiosa tuvo gran influencia en la Edad Moderna?", options: ["Iglesia cat√≥lica", "Monasterios medievales", "Gremios", "Universidades"], correct: 0 },
  { q: "¬øQu√© es la reforma protestante?", options: ["Un movimiento que critic√≥ la Iglesia cat√≥lica", "Una guerra civil", "Un invento de la imprenta", "Una expedici√≥n mar√≠tima"], correct: 0 },
  { q: "¬øQu√© rey uni√≥ Castilla y Arag√≥n en Espa√±a?", options: ["Carlos I", "Fernando el Cat√≥lico", "Isabel I", "Felipe II"], correct: 1 },
  { q: "¬øQu√© nombre reciben las rutas comerciales entre Europa, Am√©rica y √Åfrica?", options: ["Ruta de la Seda", "Comercio triangular", "Ruta de los Vikingos", "Camino de Santiago"], correct: 1 },
  { q: "¬øQu√© territorio formaba parte del Imperio espa√±ol en Am√©rica?", options: ["Brasil", "M√©xico, Per√∫ y Chile", "Canad√°", "EE.UU."], correct: 1 },
  { q: "¬øQu√© grupo social empez√≥ a enriquecerse con el comercio en la Edad Moderna?", options: ["Nobles", "Burgueses", "Campesinos", "Monjes"], correct: 1 },
  { q: "¬øQu√© avance cient√≠fico se desarroll√≥ en esta √©poca?", options: ["Teor√≠a helioc√©ntrica de Cop√©rnico", "Electricidad", "Computadoras", "Telescopio digital"], correct: 0 },
  { q: "¬øQu√© nombre reciben los viajes de circunnavegaci√≥n realizados por mar?", options: ["Exploraciones terrestres", "Viajes comerciales", "Viajes de descubrimiento", "Expediciones cient√≠ficas"], correct: 2 },
  { q: "¬øQu√© producto europeo buscaban principalmente en Asia?", options: ["Oro", "Especias", "Cacao", "Patatas"], correct: 1 },
  { q: "¬øQu√© cambio tuvo lugar en la sociedad por la llegada de nuevas riquezas?", options: ["Aumento del poder de los burgueses", "Abolici√≥n del feudalismo", "Desaparici√≥n de los nobles", "Disminuci√≥n de comercio"], correct: 0 },
  { q: "¬øQu√© caracter√≠stica tiene el arte renacentista?", options: ["Realismo y equilibrio", "Muros gruesos", "Arcos apuntados", "Columnas egipcias"], correct: 0 },
  { q: "¬øQu√© ciudad fue capital del Imperio espa√±ol durante Felipe II?", options: ["Sevilla", "Madrid", "Toledo", "Barcelona"], correct: 1 },
  { q: "¬øQu√© continente descubri√≥ Crist√≥bal Col√≥n?", options: ["Asia", "√Åfrica", "Am√©rica", "Ocean√≠a"], correct: 2 },
  { q: "¬øQu√© t√©cnica permiti√≥ pintar con perspectiva y profundidad en el Renacimiento?", options: ["Fresco", "√ìleo", "Perspectiva lineal", "Mosaico"], correct: 2 },
  { q: "¬øQu√© sistema de gobierno predomin√≥ en Europa durante la Edad Moderna?", options: ["Monarqu√≠a absoluta", "Rep√∫blica democr√°tica", "Feudalismo", "Oligarqu√≠a"], correct: 0 },
  { q: "¬øQu√© fen√≥meno permiti√≥ la circulaci√≥n de ideas y descubrimientos?", options: ["Imprenta y comercio", "Cruzadas", "Ferias medievales", "Inquisici√≥n"], correct: 0 },
{ q: "¬øQu√© invento permiti√≥ imprimir libros r√°pidamente en el Renacimiento?", options: ["Tel√©grafo", "Imprenta", "M√°quina de vapor", "Tel√©fono"], correct: 1 },
  { q: "¬øQu√© pa√≠s descubri√≥ la ruta mar√≠tima a la India?", options: ["Espa√±a", "Portugal", "Inglaterra", "Francia"], correct: 1 },
  { q: "¬øQui√©n circunnaveg√≥ el mundo por primera vez?", options: ["Crist√≥bal Col√≥n", "Magallanes", "Vasco da Gama", "Hern√°n Cort√©s"], correct: 1 },
  { q: "¬øQu√© nueva clase social se enriqueci√≥ con el comercio?", options: ["Burgueses", "Nobles", "Campesinos", "Monjes"], correct: 0 },
  { q: "¬øQu√© monarca espa√±ol patrocin√≥ los viajes de Col√≥n?", options: ["Felipe II", "Fernando el Cat√≥lico", "Carlos I", "Isabel la Cat√≥lica"], correct: 3 },
  { q: "¬øQu√© era la Reforma protestante?", options: ["Un movimiento religioso que critic√≥ la Iglesia", "Una guerra", "Un descubrimiento cient√≠fico", "Un tratado comercial"], correct: 0 },
  { q: "¬øQu√© continente descubri√≥ Col√≥n?", options: ["Asia", "Am√©rica", "√Åfrica", "Ocean√≠a"], correct: 1 },
  { q: "¬øQu√© producto tra√≠do de Am√©rica se convirti√≥ en alimento habitual en Europa?", options: ["Patata", "Aceite de oliva", "Trigo", "Vino"], correct: 0 },
  { q: "¬øQu√© estilo art√≠stico usaba perspectiva y realismo en el Renacimiento?", options: ["Rom√°nico", "G√≥tico", "Renacentista", "Barroco"], correct: 2 },
  { q: "¬øQu√© ciudad italiana fue un centro cultural del Renacimiento?", options: ["Florencia", "Roma", "Venecia", "Mil√°n"], correct: 0 },
  { q: "¬øQu√© monarqu√≠a europea era absoluta en el siglo XVI?", options: ["Espa√±a", "Francia", "Inglaterra", "Portugal"], correct: 0 },
  { q: "¬øQu√© fen√≥meno permiti√≥ la circulaci√≥n de ideas en Europa?", options: ["Ferias medievales", "Imprenta", "Cruzadas", "Inquisici√≥n"], correct: 1 },
  { q: "¬øQu√© ruta comercial conectaba Europa, √Åfrica y Am√©rica?", options: ["Ruta de la Seda", "Comercio triangular", "Camino de Santiago", "Ruta de las especias"], correct: 1 },
  { q: "¬øQu√© civilizaci√≥n explor√≥ Am√©rica despu√©s de Espa√±a?", options: ["Portugal", "Francia", "Inglaterra", "Holanda"], correct: 2 },
  { q: "¬øQu√© instrumento ayud√≥ a la navegaci√≥n en el mar?", options: ["Astrolabio", "Imprenta", "Bar√≥metro", "Telescopio digital"], correct: 0 },
  { q: "¬øQu√© pa√≠s conquist√≥ Per√∫ y M√©xico?", options: ["Portugal", "Espa√±a", "Francia", "Inglaterra"], correct: 1 },
  { q: "¬øQu√© rey gobernaba Espa√±a durante la mayor expansi√≥n territorial en Am√©rica?", options: ["Felipe II", "Carlos I", "Fernando el Cat√≥lico", "Isabel I"], correct: 1 },
  { q: "¬øQu√© obra de arte usa la t√©cnica del fresco?", options: ["Pintura sobre muro h√∫medo", "√ìleo sobre lienzo", "Escultura en m√°rmol", "Vitral"], correct: 0 },
  { q: "¬øQu√© fen√≥meno favoreci√≥ el desarrollo de ciudades y comercio?", options: ["Renacimiento", "Descubrimientos geogr√°ficos", "Feudalismo", "Cruzadas"], correct: 1 },
  { q: "¬øQu√© reino espa√±ol uni√≥ Castilla y Arag√≥n?", options: ["Castilla", "Arag√≥n", "Espa√±a", "Portugal"], correct: 2 },
  { q: "¬øQu√© sistema econ√≥mico surgi√≥ con el comercio y colonias?", options: ["Mercantilismo", "Capitalismo", "Feudalismo", "Socialismo"], correct: 0 },
  { q: "¬øQu√© cient√≠fico propuso el modelo helioc√©ntrico?", options: ["Galileo", "Newton", "Cop√©rnico", "Descartes"], correct: 2 },
  { q: "¬øQu√© producto europeo buscaban principalmente en Asia?", options: ["Oro", "Especias", "Cacao", "Ma√≠z"], correct: 1 },
  { q: "¬øQu√© consecuencia tuvo la llegada de metales de Am√©rica a Europa?", options: ["Aumento del comercio y riqueza", "Disminuci√≥n de poblaci√≥n", "Fin del Renacimiento", "Ca√≠da del Imperio espa√±ol"], correct: 0 },
  { q: "¬øQu√© instrumento mide la posici√≥n de las estrellas para la navegaci√≥n?", options: ["Comp√°s", "Astrolabio", "Telescopio", "Reloj de arena"], correct: 1 },
{ q: "¬øQu√© periodo hist√≥rico sigue a la Edad Media?", options: ["Edad Antigua", "Edad Moderna", "Edad Contempor√°nea", "Prehistoria"], correct: 1 },
  { q: "¬øQu√© movimiento art√≠stico se centra en la perfecci√≥n del cuerpo humano?", options: ["G√≥tico", "Renacimiento", "Rom√°nico", "Barroco"], correct: 1 },
  { q: "¬øQui√©n descubri√≥ la ruta mar√≠tima a la India?", options: ["Crist√≥bal Col√≥n", "Magallanes", "Vasco da Gama", "Hern√°n Cort√©s"], correct: 2 },
  { q: "¬øQu√© navegante lleg√≥ a Am√©rica en 1492?", options: ["Crist√≥bal Col√≥n", "Magallanes", "Vasco da Gama", "Colombo"], correct: 0 },
  { q: "¬øQu√© pa√≠s patrocin√≥ los viajes de Col√≥n?", options: ["Portugal", "Espa√±a", "Inglaterra", "Francia"], correct: 1 },
  { q: "¬øQu√© producto americano se convirti√≥ en alimento com√∫n en Europa?", options: ["Ma√≠z y patata", "Trigo y cebada", "Aceite de oliva", "Vino"], correct: 0 },
  { q: "¬øQu√© estilo art√≠stico usa perspectiva y proporciones humanas?", options: ["Rom√°nico", "G√≥tico", "Renacentista", "Barroco"], correct: 2 },
  { q: "¬øQu√© ciudad italiana fue centro del Renacimiento?", options: ["Florencia", "Roma", "Venecia", "Mil√°n"], correct: 0 },
  { q: "¬øQu√© monarqu√≠a ten√≠a poder absoluto en el siglo XVI?", options: ["Espa√±a", "Francia", "Inglaterra", "Portugal"], correct: 0 },
  { q: "¬øQu√© invento permiti√≥ difundir libros r√°pidamente?", options: ["Imprenta", "Tel√©grafo", "Tel√©fono", "M√°quina de vapor"], correct: 0 },
  { q: "¬øQu√© es la Reforma protestante?", options: ["Cr√≠tica a la Iglesia cat√≥lica", "Descubrimiento cient√≠fico", "Nueva t√©cnica de navegaci√≥n", "Tratado comercial"], correct: 0 },
  { q: "¬øQu√© pa√≠s coloniz√≥ Per√∫ y M√©xico?", options: ["Portugal", "Espa√±a", "Francia", "Inglaterra"], correct: 1 },
  { q: "¬øQu√© rey gobernaba Espa√±a durante la mayor expansi√≥n en Am√©rica?", options: ["Felipe II", "Carlos I", "Fernando el Cat√≥lico", "Isabel I"], correct: 1 },
  { q: "¬øQu√© sistema econ√≥mico surge con el comercio y colonias?", options: ["Mercantilismo", "Capitalismo", "Feudalismo", "Socialismo"], correct: 0 },
  { q: "¬øQu√© cient√≠fico propuso el modelo helioc√©ntrico?", options: ["Galileo", "Cop√©rnico", "Newton", "Descartes"], correct: 1 },
  { q: "¬øQu√© rutas comerciales conectaban Europa, √Åfrica y Am√©rica?", options: ["Ruta de la Seda", "Comercio triangular", "Camino de Santiago", "Ruta de especias"], correct: 1 },
  { q: "¬øQu√© producto europeo buscaban principalmente en Asia?", options: ["Oro", "Especias", "Cacao", "Ma√≠z"], correct: 1 },
  { q: "¬øQu√© fen√≥meno favoreci√≥ el desarrollo de ciudades y comercio?", options: ["Renacimiento", "Descubrimientos", "Feudalismo", "Cruzadas"], correct: 1 },
  { q: "¬øQu√© instrumento ayudaba a medir la posici√≥n de estrellas en la navegaci√≥n?", options: ["Comp√°s", "Astrolabio", "Telescopio", "Bar√≥metro"], correct: 1 },
  { q: "¬øQu√© t√©cnica art√≠stica permite pintar frescos?", options: ["√ìleo", "Fresco", "Acuarela", "Tempera"], correct: 1 },
  { q: "¬øQu√© monarca espa√±ol uni√≥ Castilla y Arag√≥n?", options: ["Fernando", "Carlos I", "Felipe II", "Isabel"], correct: 0 },
  { q: "¬øQu√© cambio tuvo la llegada de metales de Am√©rica a Europa?", options: ["Aumento del comercio y riqueza", "Disminuci√≥n de poblaci√≥n", "Fin del Renacimiento", "Ca√≠da del Imperio espa√±ol"], correct: 0 },
  { q: "¬øQu√© estilo art√≠stico tiene arcos redondos y simetr√≠a?", options: ["Renacentista", "G√≥tico", "Rom√°nico", "Barroco"], correct: 0 },
  { q: "¬øQu√© clase social surgi√≥ con la econom√≠a del comercio?", options: ["Burgueses", "Nobles", "Monjes", "Campesinos"], correct: 0 },
  { q: "¬øQui√©n realiz√≥ la primera vuelta al mundo por mar?", options: ["Crist√≥bal Col√≥n", "Magallanes", "Vasco da Gama", "Hern√°n Cort√©s"], correct: 1 }
                         ]
                    }
                }
            }
        };

        const availableGames = [
            { id: 1, name: "Arkanoid T√°ctil", func: "startGame1_Arkanoid", file: "arkanoid.html", container: "arkanoidGameContainer", iframe: "iframe_arkanoid" },
            { id: 2, name: "Juego de Pares", func: "startGame2_Memoria", file: "memoria.html", container: "memoriaGameContainer", iframe: "iframe_memoria" },
            { id: 3, name: "Matamarcianos", func: "startGame3_Matamarcianos", file: "matamarcianos.html", container: "matamarcianosGameContainer", iframe: "iframe_matamarcianos" },
            { id: 4, name: "Juego de Asteroides", func: "startGame4_Asteroides", file: "asteroides.html", container: "asteroidesGameContainer", iframe: "iframe_asteroides" },
            { id: 5, name: "Donkeykong", func: "startGame5_Donkeykong", file: "donkeykong.html", container: "donkeykongGameContainer", iframe: "iframe_donkeykong" },
            { id: 6, name: "Juego de la Rana", func: "startGame6_Frogger", file: "frogger.html", container: "froggerGameContainer", iframe: "iframe_frogger" },
            { id: 7, name: "Tenis", func: "startGame7_Pong", file: "pong.html", container: "pongGameContainer", iframe: "iframe_pong" },
            { id: 8, name: "Tres en Raya", func: "startGame8_Tictactoe", file: "tictactoe.html", container: "tictactoeGameContainer", iframe: "iframe_tictactoe" },
            { id: 9, name: "Tetris Lite", func: "startGame9_Tetris", file: "tetris.html", container: "tetrisGameContainer", iframe: "iframe_tetris" },
            { id: 10, name: "Pacman", func: "startGame10_Pacman", file: "pacman.html", container: "pacmanGameContainer", iframe: "iframe_pacman" }
        ];
        
        // Funciones puente para la selecci√≥n aleatoria
        function startGame1_Arkanoid() { startRewardGame(1); }
        function startGame2_Memoria() { startRewardGame(2); }
        function startGame3_Matamarcianos() { startRewardGame(3); }
        function startGame4_Asteroides() { startRewardGame(4); }
        function startGame5_Donkeykong() { startRewardGame(5); }
        function startGame6_Frogger() { startRewardGame(6); }
        function startGame7_Pong() { startRewardGame(7); }
        function startGame8_Tictactoe() { startRewardGame(8); }
        function startGame9_Tetris() { startRewardGame(9); }
        function startGame10_Pacman() { startRewardGame(10); }

        // --- Funciones de Mensajes ---
        function hideCustomMessage() {
            const modal = document.getElementById('customMessageModal');
            if (modal) {
                modal.style.display = 'none';
                const modalBtn = modal.querySelector('.main-button');
                if (modalBtn) modalBtn.onclick = hideCustomMessage; 
            }
        }

        // --- Funciones de Navegaci√≥n y Selectores ---
        function hideAllScreens() {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        }
        function showScreen(screenId) {
             hideAllScreens();
             const screen = document.getElementById(screenId);
             if (screen) screen.classList.add('active');
             if (screenId === 'subjectScreen') {
                 populateEvaluations();
             }
        }
        function goToSubjectFromExercise() {
            showScreen('subjectScreen');
        }
        function goToReview() {
            showScreen('reviewScreen');
            updateReviewScreen();
        }
        function populateEvaluations() {
            const subjectChosen = document.getElementById('subjectChoose').value; 
            const evaluationSelect = document.getElementById('evaluationChoose');
            if (!evaluationSelect) return;
            evaluationSelect.innerHTML = '<option value="">--Selecciona Evaluaci√≥n--</option>';
            if (!subjectChosen) {
                populateTopics();
                return;
            }
            const currentCurriculum = curriculum[subjectChosen] ? curriculum[subjectChosen]['1¬∫ESO'] : {};
            Object.keys(currentCurriculum).forEach(evalName => {
                const o = document.createElement('option');
                o.value = evalName;
                o.text = evalName;
                evaluationSelect.add(o);
            });
            populateTopics(); 
        }
        function populateTopics() {
            const subject = document.getElementById('subjectChoose').value;
            const evaluation = document.getElementById('evaluationChoose').value;
            const topicSelect = document.getElementById('topicChoose');
            if (!topicSelect) return;
            topicSelect.innerHTML = '<option value="">--Selecciona Tema--</option>';
            if (subject && evaluation && curriculum[subject]["1¬∫ESO"][evaluation]) {
                Object.keys(curriculum[subject]["1¬∫ESO"][evaluation]).forEach(t => {
                    const o = document.createElement('option');
                    o.value = t;
                    o.text = t;
                    topicSelect.add(o);
                });
            }
        }
        function endGame() {
            if (window.animationFrameId) {
                cancelAnimationFrame(window.animationFrameId);
                window.animationFrameId = null;
            }
            document.querySelectorAll('.game-container').forEach(container => {
                container.classList.remove('active');
            });
            document.getElementById('rewardMessage').style.display = 'none'; 
            showScreen('exerciseScreen');
            window.answeredCurrentQuestion = true; 
            nextQuestion(); 
        }

        // --- Funciones de Ejercicio y Gamificaci√≥n ---
        function startExercises() {
            const subject = document.getElementById('subjectChoose').value;
            const evaluation = document.getElementById('evaluationChoose').value;
            const topic = document.getElementById('topicChoose').value;
            if (!subject || !evaluation || !topic) {
                window.showCustomMessage('Selecciona asignatura, evaluaci√≥n y tema', 'error');
                return;
            }
            const original = curriculum[subject]["1¬∫ESO"][evaluation][topic];
            const shuffled = [...original];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            const maxQuestions = 100;
            window.currentExercises = shuffled.slice(0, Math.min(original.length, maxQuestions));
            window.currentQ = 0;
            window.completedExercises = [];
            window.answeredCurrentQuestion = false;
            showScreen('exerciseScreen');
            document.getElementById('subjectTopic').innerText = `${subject} - ${topic}`;
            document.getElementById('totalQuestions').innerText = window.currentExercises.length;
            updatePoints();
            updateLevel();
            updateMedals();
            loadQuestion();
        }
        function loadQuestion() {
            window.answeredCurrentQuestion = false;
            if (window.currentQ >= window.currentExercises.length) {
                return goToReview(); 
            }
            const q = window.currentExercises[window.currentQ];
            document.getElementById('questionNumber').innerText = window.currentQ + 1;
            document.getElementById('questionText').innerText = q.q;
            const btns = document.querySelectorAll('.options button');
            const optionIndexes = [0, 1, 2, 3].sort(() => Math.random() - 0.5); 
            btns.forEach((btn, i) => {
                const originalIndex = optionIndexes[i];
                btn.innerText = q.options[originalIndex];
                btn.setAttribute('data-original-index', originalIndex); 
                btn.className = '';
                btn.disabled = false; 
            });
        }
        function handleOptionClick(event) {
            if (event.target.tagName !== 'BUTTON') return;
            checkAnswer(event.target);
        }
        function checkAnswer(btn) {
            if (window.answeredCurrentQuestion) return; 
            const q = window.currentExercises[window.currentQ];
            const originalIndex = parseInt(btn.getAttribute('data-original-index'));
            const correctOriginalIndex = q.correct;
            window.answeredCurrentQuestion = true; 
            document.querySelectorAll('.options button').forEach(b => b.disabled = true);
            if (originalIndex === correctOriginalIndex) {
                btn.classList.add('correct');
                window.points++; 
                window.completedExercises.push(q.q);
            } else {
                btn.classList.add('wrong');
                document.querySelectorAll('.options button').forEach(b => {
                    if (parseInt(b.getAttribute('data-original-index')) === correctOriginalIndex) {
                        b.classList.add('correct');
                    }
                });
            }
            updatePoints(); 
            updateMedals();
            updateLevel(); 
        }
        function nextQuestion() {
            if (!window.answeredCurrentQuestion) {
                window.showCustomMessage('Debes responder la pregunta actual antes de avanzar.', 'info');
                return;
            }
            window.currentQ++;
            loadQuestion();
        }
        function updatePoints() {
            const pointsDisplay = document.getElementById('pointsDisplay');
            const progressEl = document.getElementById('progress');
            if(pointsDisplay) pointsDisplay.innerText = `Puntos: ${window.points}`;
            if(progressEl) {
                const progress = Math.min((window.points % 10) * 10, 100); 
                progressEl.style.width = progress + '%';
            }
        }
       function updateLevel() {
    const oldLevel = window.level;
    const newLevel = Math.floor(window.points / 1) + 10; 

    // Solo actualizamos el nivel global y activamos la recompensa si el nivel SUBE.
    if (newLevel > oldLevel) {
        window.level = newLevel; 
        
        if(typeof window.saveStudyData === 'function') window.saveStudyData(); 
        
        const rewardMessage = document.getElementById('rewardMessage');
        const rewardLevel = document.getElementById('rewardLevel');
        
        if (rewardMessage && rewardLevel) {
            rewardMessage.style.display = 'block'; 
            rewardLevel.innerText = window.level;
        }
        // --- NUEVA L√ìGICA DE RECOMPENSA DE MENSAJE (SIN BOT√ìN) ---
        if (window.level === 5) {
            const now = new Date();
            // Formato de hora: 14:35
            const time = now.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' }); 
            // Formato de fecha: 27 nov.
            const date = now.toLocaleDateString('es-ES', { day: '2-digit', month: 'short' }); 
            
            // Usamos la funci√≥n showCustomMessage para mostrar el mensaje de recompensa
            window.showCustomMessage(
                `üéâ ¬°Recompensa Nivel 5 desbloqueada! üéâ Tienes 15 minutos de INSTAGRAM. (Hora registrada: ${time} del ${date})`,
                'success' // Puedes usar 'success' o 'info' para un mensaje positivo
            );
        }
        // --- FIN DE LA NUEVA L√ìGICA DE INSTAGRAM ---
        setTimeout(startRewardGame, 1500); 
        
        // ‚úÖ C√ìDIGO DEL NIVEL 10 REUBICADO CORRECTAMENTE AQU√ç
        if (window.level === 10) {
            window.showCustomMessage("¬°Has alcanzado el nivel 10! ¬°Eres un campe√≥n del estudio!", 'success');
        }
    }
    
    // Esto siempre actualiza la pantalla con el valor de window.level (sea cargado, viejo, o nuevo).
    const levelDisplay = document.getElementById('levelDisplay');
    if(levelDisplay) levelDisplay.innerText = `Nivel: ${window.level}`;
}

// FUNCIONES DE RESET (Separadas de updateLevel)
function showResetConfirmation() {
    window.showCustomMessage(
        '¬°ADVERTENCIA! ¬øEst√°s seguro de que quieres resetear tu progreso? Perder√°s todos tus puntos y volver√°s al Nivel 1.',
        'warning'
    );
    const modalBtn = document.getElementById('customMessageModal').querySelector('.main-button');
    if(modalBtn) {
        modalBtn.innerText = 'S√≠, Resetear';
        modalBtn.onclick = async () => {
            hideCustomMessage();
            await resetProgress(); 
        };
    }
}

async function resetProgress() {
    // 1. Resetear variables globales
    window.points = 0;
    window.level = 1; 

    // 2. Actualizar la interfaz inmediatamente
    updatePoints();
    updateLevel(); 
    updateMedals();
    
    // 3. Guardar en Firebase
    if(typeof window.saveStudyData === 'function') {
        await window.saveStudyData(); 
        window.showCustomMessage('‚úÖ ¬°Progreso reseteado con √©xito! Tienes 0 puntos y est√°s en Nivel 1.', 'success');
    } else {
        window.showCustomMessage('‚úÖ Progreso reseteado en memoria. Aseg√∫rate de definir window.saveStudyData para guardar en Firebase.', 'info');
    }
}    
       if (window.level === 10) {
                    window.showCustomMessage("¬°Has alcanzado el nivel 10! ¬°Eres un campe√≥n del estudio!", 'success');
                }
            
            const levelDisplay = document.getElementById('levelDisplay');
            if(levelDisplay) levelDisplay.innerText = `Nivel: ${window.level}`;
        
        function updateMedals() {
            const container = document.getElementById('medals');
            if (!container) return;
            container.innerHTML = '';
            const milestones = [5, 10, 20, 30, 40, 50];
            const completedCount = window.completedExercises.length;
            milestones.forEach(m => {
                const medal = document.createElement('div');
                medal.classList.add('medal');
                let icon = 'üèÖ';
                if (m === 5) icon = 'ü•â'; 
                if (m === 10) icon = 'ü•à'; 
                if (m === 20) icon = 'ü•á'; 
                if (m === 30) icon = 'üèÜ';
                if (m === 40) icon = 'üéñÔ∏è';
                if (m === 50) icon = 'üëë';
                medal.textContent = icon;
                if (completedCount >= m) medal.classList.add('active');
                container.appendChild(medal);
            });
        }
        function updateReviewScreen() {
            const finalPoints = document.getElementById('finalPoints');
            const finalLevel = document.getElementById('finalLevel');
            const reviewDiv = document.getElementById('reviewQuestions');
            if(!finalPoints || !finalLevel || !reviewDiv) return;

            finalPoints.innerText = window.points;
            finalLevel.innerText = window.level;
            reviewDiv.innerHTML = '';
            if (window.completedExercises.length === 0) {
                reviewDiv.innerHTML = '<p class="text-center text-gray-700">No acertaste ninguna pregunta en esta sesi√≥n. ¬°Sigue practicando!</p>';
                return;
            }
            window.completedExercises.forEach((q, i) => {
                const p = document.createElement('p');
                p.textContent = `${i + 1}. ${q}`;
                p.className = 'py-1 border-b border-green-200 text-green-700 font-medium';
                reviewDiv.appendChild(p);
            });
        }
        
        // --- Funciones de Premio (Juegos) ---
        function showGameContainer(containerId, iframeId, file) {
            document.querySelectorAll('.game-container').forEach(container => {
                container.classList.remove('active');
            });
            const container = document.getElementById(containerId);
            const iframe = document.getElementById(iframeId);
            if (container && iframe) {
                container.classList.add('active');
                // APLICACI√ìN DEL ARREGLO: Usar la ruta real de los juegos
                iframe.src = `juegos/${file}`; 
            }
        }

        function startRewardGame() {
            hideAllScreens();
            document.getElementById('gameScreen').classList.add('active');
            
            // Mostramos la pancarta de felicitaci√≥n
            const rewardMessage = document.getElementById('rewardMessage');
            if (rewardMessage) {
                rewardMessage.style.display = 'block';
                const rewardLevel = document.getElementById('rewardLevel');
                if (rewardLevel) rewardLevel.innerText = window.level;
            }

            // L√≥gica para seleccionar un juego aleatorio
            const gameIndex = Math.floor(Math.random() * availableGames.length);
            const selectedGame = availableGames[gameIndex];
            
            // Llamada corregida a showGameContainer usando los IDs y el nombre del archivo
            showGameContainer(selectedGame.container, selectedGame.iframe, selectedGame.file);
        }

        // --- Funciones Gestor de Tareas (Renderizado) ---
        function renderTasks() {
            const taskList = document.getElementById('taskList');
            if(!taskList) return;

            taskList.innerHTML = ''; 
            if (window.currentTasks.length === 0) {
                taskList.innerHTML = '<p class="text-center text-gray-500">¬°No hay tareas pendientes! A√±ade una para empezar.</p>';
                return;
            }
            window.currentTasks.forEach(task => {
                const taskDiv = document.createElement('div');
                taskDiv.className = `task-item ${task.completed ? 'completed' : ''}`;
                taskDiv.setAttribute('data-id', task.id);
                const deadlineDate = task.deadline ? new Date(task.deadline + 'T00:00:00') : null; // A√±adir T00:00:00 para evitar problemas de zona horaria
                const deadlineText = deadlineDate && !isNaN(deadlineDate) ? deadlineDate.toLocaleDateString('es-ES', { month: 'short', day: 'numeric' }) : 'Sin fecha';
                
                taskDiv.innerHTML = `
                    <div class="task-details flex-grow">
                        <p class="font-medium">${task.text}</p>
                        <p class="text-xs text-gray-500">Fecha l√≠mite: ${deadlineText}</p>
                    </div>
                    <div class="task-actions">
                        <button class="complete-btn" onclick="toggleTaskCompletion('${task.id}', ${!task.completed})" title="${task.completed ? 'Marcar como pendiente' : 'Marcar como completada'}">
                            ${task.completed ? 'üîÑ' : '‚úÖ'}
                        </button>
                        <button class="delete-btn" onclick="showTaskDeleteConfirmation('${task.id}')" title="Eliminar tarea">
                            üóëÔ∏è
                        </button>
                    </div>
                `;
                taskList.appendChild(taskDiv);
            });
        }
        function showTaskDeleteConfirmation(taskId) {
            window.showCustomMessage('¬øSeguro que quieres eliminar esta tarea? Esto no se puede deshacer.', 'error');
            const modalBtn = document.getElementById('customMessageModal').querySelector('.main-button');
            if(modalBtn) {
                modalBtn.onclick = async () => {
                    await window.deleteTask(taskId);
                    hideCustomMessage();
                };
            }
        }
        
        // --- Funciones Planificador Visual (Renderizado y manipulaci√≥n local) ---
        function addRoutineSlot() {
            const startTimeEl = document.getElementById('routineStartTime');
            const activityEl = document.getElementById('routineActivity');
            const durationEl = document.getElementById('routineDuration');
            if (!startTimeEl || !activityEl || !durationEl) return;
            
            const startTime = startTimeEl.value;
            const activity = activityEl.value.trim();
            const duration = parseInt(durationEl.value);

            if (!startTime || !activity) {
                window.showCustomMessage('Debes especificar la hora de inicio y la actividad.', 'error');
                return;
            }
            const timeParts = startTime.split(':').map(Number);
            const sortKey = timeParts[0] * 60 + timeParts[1];
            window.currentRoutine.push({ startTime, activity, duration, sortKey });
            window.currentRoutine.sort((a, b) => a.sortKey - b.sortKey);
            renderRoutine();
            activityEl.value = '';
            durationEl.value = '60';
        }
        
        function renderRoutine() {
            const container = document.getElementById('scheduleContainer');
            if(!container) return;

            container.innerHTML = '';
            if (window.currentRoutine.length === 0) {
                container.innerHTML = '<p class="text-center text-gray-500">A√±ade bloques de actividad para crear tu horario visual.</p>';
                return;
            }
            window.currentRoutine.forEach((slot, index) => {
                const slotDiv = document.createElement('div');
                slotDiv.className = 'schedule-slot';
                const [hour, minute] = slot.startTime.split(':').map(Number);
                const start = new Date(2000, 0, 1, hour, minute);
                const end = new Date(start.getTime() + slot.duration * 60000);
                const formatTime = (date) => date.getHours().toString().padStart(2, '0') + ':' + date.getMinutes().toString().padStart(2, '0');
                const timeText = `${slot.startTime} - ${formatTime(end)}`;
                slotDiv.innerHTML = `
                    <div class="slot-time">${timeText}</div>
                    <div class="slot-activity">${slot.activity} (${slot.duration} min)</div>
                    <button onclick="removeRoutineSlot(${index})" class="delete-btn">üóëÔ∏è</button>
                `;
                container.appendChild(slotDiv);
            });
        }
        
        async function removeRoutineSlot(index) {
            window.currentRoutine.splice(index, 1);
            renderRoutine();
            await window.saveRoutine(); 
            window.showCustomMessage('Bloque de rutina eliminado y guardado permanentemente.', 'success');
        }

        // Hacemos las funciones necesarias accesibles globalmente (solo las que se llaman desde el HTML)
        window.hideCustomMessage = hideCustomMessage;
        window.showScreen = showScreen;
        window.addRoutineSlot = addRoutineSlot;
        window.removeRoutineSlot = removeRoutineSlot;
        window.startExercises = startExercises;
        window.loadQuestion = loadQuestion;
        window.handleOptionClick = handleOptionClick;
        window.nextQuestion = nextQuestion;
        window.goToReview = goToReview;
        window.goToSubjectFromExercise = goToSubjectFromExercise;
        window.showTaskDeleteConfirmation = showTaskDeleteConfirmation;
        window.endGame = endGame;
        window.showResetConfirmation = showResetConfirmation; 
¬† ¬† ¬† ¬† window.resetProgress = resetProgress;
        
    </script>
</body>
</html>
